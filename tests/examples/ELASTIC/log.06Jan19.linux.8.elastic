LAMMPS (4 Jan 2019)
# Compute elastic constant tensor for a crystal
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod      (must be modified for different crystal structures)
# 	       	  Define units, deformation parameters and initial
#		  configuration of the atoms and simulation cell.
#
#
#   potential.mod    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod    (displace.mod should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the minimization of energy w.r.t atom
#  positions in the deformed cell is fully converged.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to check
#  the final max and two-norm forces reported in the log file. If you know
#  that minimization is not required, you can set maxiter = 0.0 in
#  init.mod.
#
#  There are two alternate versions of displace.mod provided.
#  They are displace_restart.mod and displace_reverse.mod.
#  The former resets the box using a restart file while
#  the latter reverses the deformation. Copy whichever
#  one you like best to displace.mod.
#

include init.mod
# NOTE: This script can be modified for different atomic structures,
# units, etc. See in.elastic for more info.
#

# Define the finite deformation size. Try several values of this
# variable to verify that results do not depend on it.
variable up equal 1.0e-6

# Define the amount of random jiggle for atoms
# This prevents atoms from staying on saddle points
variable atomjiggle equal 1.0e-5

# Uncomment one of these blocks, depending on what units
# you are using in LAMMPS and for output

# metal units, elastic constants in eV/A^3
#units		metal
#variable cfac equal 6.2414e-7
#variable cunits string eV/A^3

# metal units, elastic constants in GPa
units		metal
variable cfac equal 1.0e-4
variable cunits string GPa

# real units, elastic constants in GPa
#units		real
#variable cfac equal 1.01325e-4
#variable cunits string GPa

# Define minimization parameters
variable etol equal 0.0
variable ftol equal 1.0e-10
variable maxiter equal 100
variable maxeval equal 1000
variable dmax equal 1.0e-2

# generate the box and atom positions using a diamond lattice
variable a equal 5.43

boundary	p p p

lattice         diamond $a
lattice         diamond 5.43
Lattice spacing in x,y,z = 5.43 5.43 5.43
region		box prism 0 2.0 0 3.0 0 4.0 0.0 0.0 0.0
create_box	1 box
Created triclinic box = (0 0 0) to (10.86 16.29 21.72) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
create_atoms	1 box
Created 192 atoms
  Time spent = 0.000887981 secs

# Need to set mass to something, just to satisfy LAMMPS
mass 1 1.0e-20

include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Compute initial state
fix 3 all box/relax  aniso 0.0
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 4.177 | 4.177 | 4.177 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       0            0   -832.62686    532.56802    532.56802    532.56802    532.56802 1.1063888e-11 -1.1474733e-11 8.1127461e-12        10.86        16.29        21.72    3842.4722 
       1            0   -832.62714    227.98084    227.98084    227.98084    227.98084 2.6510223e-10 -9.3796461e-11 5.099605e-11    10.861086    16.291629    21.722172     3843.625 
       2            0    -832.6272 -0.016514738 -0.016514738 -0.016514738 -0.016514738 -3.4775352e-11 1.1352124e-10 -5.5468648e-11      10.8619    16.292849    21.723799    3844.4889 
       3            0    -832.6272 -1.8901558e-06 -1.8901721e-06 -1.8901215e-06 -1.8901738e-06 1.6343946e-10 4.0288982e-11 -3.2690554e-10      10.8619    16.292849    21.723799    3844.4888 
       4            0    -832.6272 -2.6847169e-11 -8.4964617e-12 -7.3794623e-11 1.749576e-12 5.8869285e-10 8.2830715e-11 -1.9810319e-10      10.8619    16.292849    21.723799    3844.4888 
Loop time of 0.0017849 on 8 procs for 4 steps with 192 atoms

100.1% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.626864929     -832.627199984     -832.627199984
  Force two-norm initial, final = 2.21226 6.73329e-13
  Force max component initial, final = 1.27725 1.77042e-13
  Final line search alpha, max atom move = 1 1.77042e-13
  Iterations, force evaluations = 4 7

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00024114 | 0.00038235 | 0.00069466 |   0.0 | 21.42
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0002783  | 0.0005352  | 0.00077685 |   0.0 | 29.98
Output  | 0.0001494  | 0.00017306 | 0.00021116 |   0.0 |  9.70
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0006943  |            |       | 38.90

Nlocal:    24 ave 24 max 24 min
Histogram: 8 0 0 0 0 0 0 0 0 0
Nghost:    249 ave 249 max 249 min
Histogram: 8 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 672 max 672 min
Histogram: 8 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

variable tmp equal pxx
variable pxx0 equal ${tmp}
variable pxx0 equal -8.4964617497129e-12
variable tmp equal pyy
variable pyy0 equal ${tmp}
variable pyy0 equal -7.37946226765754e-11
variable tmp equal pzz
variable pzz0 equal ${tmp}
variable pzz0 equal 1.7495759548677e-12
variable tmp equal pyz
variable pyz0 equal ${tmp}
variable pyz0 equal -1.98103191088796e-10
variable tmp equal pxz
variable pxz0 equal ${tmp}
variable pxz0 equal 8.2830715124843e-11
variable tmp equal pxy
variable pxy0 equal ${tmp}
variable pxy0 equal 5.88692847699103e-10

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 10.8618995568104
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 16.2928493352156
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 21.7237991136209

# These formulas define the derivatives w.r.t. strain components
# Constants uses $, variables use v_
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--8.4964617497129e-12)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--8.4964617497129e-12)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--7.37946226765754e-11)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--7.37946226765754e-11)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-1.7495759548677e-12)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-1.7495759548677e-12)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--1.98103191088796e-10)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--1.98103191088796e-10)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-8.2830715124843e-11)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-8.2830715124843e-11)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-5.88692847699103e-10)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-5.88692847699103e-10)/(v_delta/v_len0)*0.0001

displace_atoms all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 1e-05 1e-05 87287 units box

# Write restart
unfix 3
write_restart restart.equil

# uxx Perturbation

variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 10.8618995568104
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*10.8618995568104
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -1.08618995568104e-05 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -1.08618995568104e-05 xy delta -0 xz delta ${deltaxz} remap units box
change_box all x delta 0 -1.08618995568104e-05 xy delta -0 xz delta -0 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272    1.0142931    1.5143127   0.76428352   0.76428311    1.0338604   0.19830544   0.36391755    10.861889    16.292849    21.723799     3844.485 
       5            0    -832.6272    1.0142321    1.5142474   0.76422488   0.76422407  -0.26570192 -0.050965134 -0.093529692    10.861889    16.292849    21.723799     3844.485 
       6            0    -832.6272    1.0142305    1.5142459   0.76422291   0.76422271   0.25791124   0.04947118  0.090786431    10.861889    16.292849    21.723799     3844.485 
       7            0    -832.6272    1.0142306    1.5142464   0.76422284   0.76422246  -0.22573008 -0.043298191 -0.079458912    10.861889    16.292849    21.723799     3844.485 
       8            0    -832.6272    1.0142306    1.5142464   0.76422274   0.76422264   0.12788999  0.024531102  0.045018287    10.861889    16.292849    21.723799     3844.485 
       9            0    -832.6272    1.0142306    1.5142464   0.76422269   0.76422267 -0.071643174 -0.013742172 -0.025219047    10.861889    16.292849    21.723799     3844.485 
      10            0    -832.6272    1.0142306    1.5142464    0.7642227   0.76422268  0.035943209 0.0068943664  0.012652354    10.861889    16.292849    21.723799     3844.485 
      11            0    -832.6272    1.0142306    1.5142465    0.7642227   0.76422271 -0.022330126 -0.004283206 -0.0078604903    10.861889    16.292849    21.723799     3844.485 
      12            0    -832.6272    1.0142306    1.5142465    0.7642227   0.76422271  0.011993213 0.0023004225 0.0042218108    10.861889    16.292849    21.723799     3844.485 
      13            0    -832.6272    1.0142306    1.5142465    0.7642227   0.76422271 -0.0061447739 -0.0011786251 -0.0021631173    10.861889    16.292849    21.723799     3844.485 
      14            0    -832.6272    1.0142306    1.5142465    0.7642227   0.76422271 0.0039511972 0.00075784979  0.001390981    10.861889    16.292849    21.723799     3844.485 
      15            0    -832.6272    1.0142306    1.5142465    0.7642227   0.76422271 -0.0019700629 -0.00037784622 -0.0006936085    10.861889    16.292849    21.723799     3844.485 
      16            0    -832.6272    1.0142306    1.5142465    0.7642227   0.76422271 0.0012301628 0.00023590687 0.0004332021    10.861889    16.292849    21.723799     3844.485 
      17            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -0.00085146658 -0.00016325425 -0.00029994327    10.861889    16.292849    21.723799     3844.485 
      18            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 0.00058997344 0.00011307238 0.0002079721    10.861889    16.292849    21.723799     3844.485 
      19            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -0.00035690799 -6.8371579e-05 -0.00012591773    10.861889    16.292849    21.723799     3844.485 
      20            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 0.00018348485 3.5111684e-05 6.4855218e-05    10.861889    16.292849    21.723799     3844.485 
      21            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -9.5899936e-05 -1.8308995e-05 -3.4034769e-05    10.861889    16.292849    21.723799     3844.485 
      22            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 4.5596668e-05 8.6646486e-06 1.631264e-05    10.861889    16.292849    21.723799     3844.485 
      23            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -1.9450292e-05 -3.6365586e-06 -7.1511885e-06    10.861889    16.292849    21.723799     3844.485 
      24            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 1.1113459e-05 1.9807044e-06 4.3992867e-06    10.861889    16.292849    21.723799     3844.485 
      25            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -3.1110262e-06 -4.7192484e-07 -1.4977658e-06    10.861889    16.292849    21.723799     3844.485 
      26            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 6.6055933e-07 -1.1572859e-07 1.0140182e-06    10.861889    16.292849    21.723799     3844.485 
      27            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 1.0615747e-06 4.7972185e-07 -5.1623481e-07    10.861889    16.292849    21.723799     3844.485 
      28            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -1.5188968e-06 -5.274474e-07 2.2644675e-07    10.861889    16.292849    21.723799     3844.485 
      29            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 2.5020022e-06 7.8806492e-07 -1.1295623e-07    10.861889    16.292849    21.723799     3844.485 
      30            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -2.2845442e-06 -6.9703043e-07 3.0850529e-08    10.861889    16.292849    21.723799     3844.485 
      31            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 2.6051073e-06 7.8409705e-07 -5.739648e-10    10.861889    16.292849    21.723799     3844.485 
      32            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -2.731775e-06 -8.1705858e-07 -1.6197341e-08    10.861889    16.292849    21.723799     3844.485 
      33            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 2.8456707e-06 8.490449e-07 2.3602924e-08    10.861889    16.292849    21.723799     3844.485 
      34            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -2.2447256e-06 -6.6886105e-07 -2.1399147e-08    10.861889    16.292849    21.723799     3844.485 
      35            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 2.190918e-06 6.5209369e-07 2.2902062e-08    10.861889    16.292849    21.723799     3844.485 
      36            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -2.170552e-06 -6.4564361e-07 -2.3692295e-08    10.861889    16.292849    21.723799     3844.485 
      37            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 1.9459025e-06 5.7862137e-07 2.1670178e-08    10.861889    16.292849    21.723799     3844.485 
      38            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -1.7561423e-06 -5.2211188e-07 -1.9801234e-08    10.861889    16.292849    21.723799     3844.485 
      39            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 2.1805622e-06 6.4828883e-07 2.4687295e-08    10.861889    16.292849    21.723799     3844.485 
      40            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -1.7846369e-06 -5.3059554e-07 -2.0241803e-08    10.861889    16.292849    21.723799     3844.485 
      41            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 1.5844627e-06 4.7101038e-07 1.7950245e-08    10.861889    16.292849    21.723799     3844.485 
      42            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -2.5798537e-06 -7.6684684e-07 -2.9161033e-08    10.861889    16.292849    21.723799     3844.485 
      43            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 1.5591784e-06 4.633894e-07 1.7595184e-08    10.861889    16.292849    21.723799     3844.485 
      44            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -1.787321e-06 -5.3114593e-07 -2.0108295e-08    10.861889    16.292849    21.723799     3844.485 
      45            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 1.334014e-06 3.9639778e-07 1.4958157e-08    10.861889    16.292849    21.723799     3844.485 
      46            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -8.2407726e-07 -2.448192e-07 -9.2085942e-09    10.861889    16.292849    21.723799     3844.485 
      47            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 3.672012e-07 1.0903528e-07 4.0493418e-09    10.861889    16.292849    21.723799     3844.485 
      48            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -2.0064054e-07 -5.9417133e-08 -2.1110615e-09    10.861889    16.292849    21.723799     3844.485 
      49            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 7.5575519e-08 2.2154664e-08 7.4034156e-10    10.861889    16.292849    21.723799     3844.485 
      50            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -3.4583181e-08 -9.9105601e-09 -3.137476e-10    10.861889    16.292849    21.723799     3844.485 
      51            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 2.3750257e-08 6.4379862e-09 1.885133e-10    10.861889    16.292849    21.723799     3844.485 
      52            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 -7.6959799e-09 -1.8121618e-09 -8.3630628e-11    10.861889    16.292849    21.723799     3844.485 
      53            0    -832.6272    1.0142306    1.5142465   0.76422271   0.76422271 3.6617199e-09 5.5363636e-10 8.5511504e-11    10.861889    16.292849    21.723799     3844.485 
Loop time of 0.0104234 on 8 procs for 49 steps with 192 atoms

95.4% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199814     -832.627199982     -832.627199982
  Force two-norm initial, final = 0.00295832 7.32702e-11
  Force max component initial, final = 0.000321141 8.91251e-12
  Final line search alpha, max atom move = 1 8.91251e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0025977  | 0.0030114  | 0.0040149  |   0.7 | 28.89
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0022531  | 0.0031935  | 0.0037394  |   1.0 | 30.64
Output  | 0.0015782  | 0.0016602  | 0.0018328  |   0.2 | 15.93
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002558   |            |       | 24.54

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.51424647237401
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 0.764222708897033
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 0.764222709021124
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 3.66171988649861e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 5.536363563543e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 8.55115043986383e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 151.424647238251
variable C2neg equal ${d2}
variable C2neg equal 76.4222708970828
variable C3neg equal ${d3}
variable C3neg equal 76.4222709019375
variable C4neg equal ${d4}
variable C4neg equal 2.83614695487434e-08
variable C5neg equal ${d5}
variable C5neg equal 4.70805641229457e-08
variable C6neg equal ${d6}
variable C6neg equal 3.07302703879951e-07

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*10.8618995568104
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 1.08618995568104e-05 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 1.08618995568104e-05 xy delta 0 xz delta ${deltaxz} remap units box
change_box all x delta 0 1.08618995568104e-05 xy delta 0 xz delta 0 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.861 16.2914 21.7219) with tilt (0 0 0)
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.861 16.2914 21.7219) with tilt (0 0 0)
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.861 16.2914 21.7219) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272   -1.0141646   -1.5141769  -0.76415817  -0.76415857    1.0338551   0.19830442   0.36391577     10.86191    16.292849    21.723799    3844.4927 
       5            0    -832.6272   -1.0142256   -1.5142422  -0.76421681  -0.76421761  -0.26570125 -0.050965008 -0.093529136     10.86191    16.292849    21.723799    3844.4927 
       6            0    -832.6272   -1.0142271   -1.5142437  -0.76421877  -0.76421898   0.25791088  0.049471111  0.090785723     10.86191    16.292849    21.723799    3844.4927 
       7            0    -832.6272   -1.0142271   -1.5142432  -0.76421885  -0.76421922   -0.2257296 -0.043298098  -0.07945797     10.86191    16.292849    21.723799    3844.4927 
       8            0    -832.6272    -1.014227   -1.5142431  -0.76421895  -0.76421904   0.12788964  0.024531036  0.045017446     10.86191    16.292849    21.723799    3844.4927 
       9            0    -832.6272   -1.0142271   -1.5142432  -0.76421899  -0.76421901 -0.071642956  -0.01374213  -0.02521831     10.86191    16.292849    21.723799    3844.4927 
      10            0    -832.6272    -1.014227   -1.5142431  -0.76421899    -0.764219  0.035943135  0.006894352  0.012651755     10.86191    16.292849    21.723799    3844.4927 
      11            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421897 -0.022330121 -0.004283205 -0.0078598484     10.86191    16.292849    21.723799    3844.4927 
      12            0    -832.6272    -1.014227   -1.5142431  -0.76421899  -0.76421898  0.011993269 0.0023004331 0.0042212758     10.86191    16.292849    21.723799    3844.4927 
      13            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421897 -0.006144842 -0.0011786381 -0.0021626711     10.86191    16.292849    21.723799    3844.4927 
      14            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 0.0039512972 0.00075786894  0.001390499     10.86191    16.292849    21.723799    3844.4927 
      15            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421897 -0.0019701777 -0.00037786831 -0.00069316386     10.86191    16.292849    21.723799    3844.4927 
      16            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 0.0012303321 0.00023593954 0.00043263204     10.86191    16.292849    21.723799    3844.4927 
      17            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -0.00085168422 -0.00016329628 -0.00029924499     10.86191    16.292849    21.723799    3844.4927 
      18            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 0.00059027376 0.00011313037 0.00020704167     10.86191    16.292849    21.723799    3844.4927 
      19            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -0.00035719608 -6.8427235e-05 -0.00012503593     10.86191    16.292849    21.723799    3844.4927 
      20            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 0.00018375958 3.5164836e-05 6.4026544e-05     10.86191    16.292849    21.723799    3844.4927 
      21            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -9.6187404e-05 -1.8364645e-05 -3.3177257e-05     10.86191    16.292849    21.723799    3844.4927 
      22            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 4.5869795e-05 8.7175749e-06 1.5502338e-05     10.86191    16.292849    21.723799    3844.4927 
      23            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -1.9768038e-05 -3.698221e-06 -6.2105352e-06     10.86191    16.292849    21.723799    3844.4927 
      24            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.1622239e-05 2.0795597e-06 2.8943937e-06     10.86191    16.292849    21.723799    3844.4927 
      25            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -3.5317244e-06 -5.5383921e-07 -2.5420257e-07     10.86191    16.292849    21.723799    3844.4927 
      26            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.4773115e-06 4.3492476e-08 -1.3994119e-06     10.86191    16.292849    21.723799    3844.4927 
      27            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.3145977e-07 2.9832907e-07 2.2317029e-06     10.86191    16.292849    21.723799    3844.4927 
      28            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -7.2320521e-07 -3.7228453e-07 -2.1234406e-06     10.86191    16.292849    21.723799    3844.4927 
      29            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.4628656e-06 5.8557979e-07 2.9544547e-06     10.86191    16.292849    21.723799    3844.4927 
      30            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -1.4112749e-06 -5.2709912e-07 -2.5465922e-06     10.86191    16.292849    21.723799    3844.4927 
      31            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.6455627e-06 5.9741421e-07 2.8316884e-06     10.86191    16.292849    21.723799    3844.4927 
      32            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -1.74318e-06 -6.245797e-07 -2.9342111e-06     10.86191    16.292849    21.723799    3844.4927 
      33            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.8228022e-06 6.4979262e-07 3.0421434e-06     10.86191    16.292849    21.723799    3844.4927 
      34            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -1.440485e-06 -5.1209286e-07 -2.3934203e-06     10.86191    16.292849    21.723799    3844.4927 
      35            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.4077111e-06 4.9934217e-07 2.3311866e-06     10.86191    16.292849    21.723799    3844.4927 
      36            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -1.3950825e-06 -4.9436864e-07 -2.3064909e-06     10.86191    16.292849    21.723799    3844.4927 
      37            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.2501124e-06 4.4285575e-07 2.0653295e-06     10.86191    16.292849    21.723799    3844.4927 
      38            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -1.1269899e-06 -3.9916213e-07 -1.8612019e-06     10.86191    16.292849    21.723799    3844.4927 
      39            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.3949664e-06 4.9402488e-07 2.3034523e-06     10.86191    16.292849    21.723799    3844.4927 
      40            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -1.1339538e-06 -4.0153915e-07 -1.872362e-06     10.86191    16.292849    21.723799    3844.4927 
      41            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 9.9413225e-07 3.5200733e-07 1.6413943e-06     10.86191    16.292849    21.723799    3844.4927 
      42            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -1.5686879e-06 -5.5553726e-07 -2.5901426e-06     10.86191    16.292849    21.723799    3844.4927 
      43            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 9.0649461e-07 3.2107196e-07 1.4967698e-06     10.86191    16.292849    21.723799    3844.4927 
      44            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -9.6795555e-07 -3.4282911e-07 -1.598145e-06     10.86191    16.292849    21.723799    3844.4927 
      45            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 6.6620483e-07 2.3593654e-07 1.0998208e-06     10.86191    16.292849    21.723799    3844.4927 
      46            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -3.866722e-07 -1.3692368e-07 -6.3830254e-07     10.86191    16.292849    21.723799    3844.4927 
      47            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.6493517e-07 5.8444743e-08 2.7218645e-07     10.86191    16.292849    21.723799    3844.4927 
      48            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -8.8750102e-08 -3.1544938e-08 -1.4626643e-07     10.86191    16.292849    21.723799    3844.4927 
      49            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 3.3135103e-08 1.1832674e-08 5.4321002e-08     10.86191    16.292849    21.723799    3844.4927 
      50            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -1.4992403e-08 -5.4578665e-09 -2.4314016e-08     10.86191    16.292849    21.723799    3844.4927 
      51            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.0093246e-08 3.8250396e-09 1.5927865e-08     10.86191    16.292849    21.723799    3844.4927 
      52            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 -3.0812487e-09 -1.2784373e-09 -4.6637015e-09     10.86191    16.292849    21.723799    3844.4927 
      53            0    -832.6272    -1.014227   -1.5142431  -0.76421898  -0.76421898 1.2436104e-09 6.2059221e-10 1.6034251e-09     10.86191    16.292849    21.723799    3844.4927 
Loop time of 0.00878683 on 8 procs for 49 steps with 192 atoms

97.7% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199814     -832.627199982     -832.627199982
  Force two-norm initial, final = 0.00295832 7.32726e-11
  Force max component initial, final = 0.00032114 8.84802e-12
  Final line search alpha, max atom move = 1 8.84802e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0025347  | 0.0027458  | 0.002955   |   0.3 | 31.25
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0023361  | 0.002484   | 0.0027075  |   0.3 | 28.27
Output  | 0.0014117  | 0.0014763  | 0.0016367  |   0.2 | 16.80
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002081   |            |       | 23.68

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.6271999823
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.01422702226707
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.5142431128908
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -0.764218977013098
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -0.764218976897302
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.24361037587448e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 6.2059221229373e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.60342511195077e-09

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 151.42431128823
variable C2pos equal ${d2}
variable C2pos equal 76.4218976939303
variable C3pos equal ${d3}
variable C3pos equal 76.4218976899052
variable C4pos equal ${d4}
variable C4pos equal -1.80152830303957e-07
variable C5pos equal ${d5}
variable C5pos equal -5.37761497168887e-08
variable C6pos equal ${d6}
variable C6pos equal -6.54917528175377e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(151.424647238251+${C1pos})
variable C11 equal 0.5*(151.424647238251+151.42431128823)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(76.4222708970828+${C2pos})
variable C21 equal 0.5*(76.4222708970828+76.4218976939303)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(76.4222709019375+${C3pos})
variable C31 equal 0.5*(76.4222709019375+76.4218976899052)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(2.83614695487434e-08+${C4pos})
variable C41 equal 0.5*(2.83614695487434e-08+-1.80152830303957e-07)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(4.70805641229457e-08+${C5pos})
variable C51 equal 0.5*(4.70805641229457e-08+-5.37761497168887e-08)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(3.07302703879951e-07+${C6pos})
variable C61 equal 0.5*(3.07302703879951e-07+-6.54917528175377e-08)

# Delete dir to make sure it is not reused

variable dir delete

# uyy Perturbation

variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 16.2928493352156
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*16.2928493352156
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 -1.62928493352156e-05 yz delta ${deltayz} remap units box
change_box all y delta 0 -1.62928493352156e-05 yz delta -0 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272    1.0142931    0.7642889    1.5143073   0.76428311    1.0338604   0.19830542   0.36391759      10.8619    16.292833    21.723799     3844.485 
       5            0    -832.6272    1.0142321    0.7642236    1.5142486   0.76422407  -0.26570193 -0.050965226 -0.093529537      10.8619    16.292833    21.723799     3844.485 
       6            0    -832.6272    1.0142305   0.76422213    1.5142467   0.76422271   0.25791125   0.04947134  0.090786143      10.8619    16.292833    21.723799     3844.485 
       7            0    -832.6272    1.0142306   0.76422263    1.5142466   0.76422246  -0.22573014 -0.043298413 -0.079458548      10.8619    16.292833    21.723799     3844.485 
       8            0    -832.6272    1.0142306   0.76422267    1.5142465   0.76422264   0.12789009  0.024531318  0.045017964      10.8619    16.292833    21.723799     3844.485 
       9            0    -832.6272    1.0142306   0.76422266    1.5142465   0.76422267 -0.071643216  -0.01374236 -0.025218732      10.8619    16.292833    21.723799     3844.485 
      10            0    -832.6272    1.0142306   0.76422268    1.5142465   0.76422268  0.035943267 0.0068945335  0.012652088      10.8619    16.292833    21.723799     3844.485 
      11            0    -832.6272    1.0142306   0.76422269    1.5142465   0.76422271 -0.022330188 -0.0042833923 -0.0078601919      10.8619    16.292833    21.723799     3844.485 
      12            0    -832.6272    1.0142306    0.7642227    1.5142465   0.76422271  0.011993287 0.0023005879 0.0042215595      10.8619    16.292833    21.723799     3844.485 
      13            0    -832.6272    1.0142306   0.76422269    1.5142465   0.76422271 -0.0061448239 -0.001178763 -0.0021628999      10.8619    16.292833    21.723799     3844.485 
      14            0    -832.6272    1.0142306    0.7642227    1.5142465   0.76422271 0.0039512548 0.00075800217  0.001390743      10.8619    16.292833    21.723799     3844.485 
      15            0    -832.6272    1.0142306    0.7642227    1.5142465   0.76422271 -0.0019701138 -0.00037798871 -0.00069338432      10.8619    16.292833    21.723799     3844.485 
      16            0    -832.6272    1.0142306    0.7642227    1.5142465   0.76422271 0.0012302287 0.00023609195 0.00043291111      10.8619    16.292833    21.723799     3844.485 
      17            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -0.00085154788 -0.00016348223 -0.00029958528      10.8619    16.292833    21.723799     3844.485 
      18            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 0.00059008252 0.00011337756 0.0002074937      10.8619    16.292833    21.723799     3844.485 
      19            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -0.00035701201 -6.8661378e-05 -0.00012546394      10.8619    16.292833    21.723799     3844.485 
      20            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 0.00018358274 3.5384556e-05 6.4428031e-05      10.8619    16.292833    21.723799     3844.485 
      21            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -9.600116e-05 -1.85917e-05 -3.3592111e-05      10.8619    16.292833    21.723799     3844.485 
      22            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 4.569243e-05 8.932026e-06  1.58942e-05      10.8619    16.292833    21.723799     3844.485 
      23            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -1.9560972e-05 -3.9470189e-06 -6.6653354e-06      10.8619    16.292833    21.723799     3844.485 
      24            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 1.1290396e-05 2.4774361e-06 3.6219997e-06      10.8619    16.292833    21.723799     3844.485 
      25            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -3.2574484e-06 -8.8240969e-07 -8.5548137e-07      10.8619    16.292833    21.723799     3844.485 
      26            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 9.4501819e-07 6.8095659e-07 -2.324158e-07      10.8619    16.292833    21.723799     3844.485 
      27            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 7.3767147e-07 -4.2742573e-07 9.0296937e-07      10.8619    16.292833    21.723799     3844.485 
      28            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -1.2418839e-06 2.4820434e-07 -9.8724812e-07      10.8619    16.292833    21.723799     3844.485 
      29            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 2.1403578e-06 -2.2429263e-07 1.471401e-06      10.8619    16.292833    21.723799     3844.485 
      30            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -1.9807414e-06 1.534874e-07 -1.3005006e-06      10.8619    16.292833    21.723799     3844.485 
      31            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 2.2713372e-06 -1.5044337e-07 1.4623991e-06      10.8619    16.292833    21.723799     3844.485 
      32            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -2.3878084e-06 1.4584625e-07 -1.523401e-06      10.8619    16.292833    21.723799     3844.485 
      33            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 2.4897963e-06 -1.4718012e-07 1.582781e-06      10.8619    16.292833    21.723799     3844.485 
      34            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -1.9649706e-06 1.1406715e-07 -1.2467152e-06      10.8619    16.292833    21.723799     3844.485 
      35            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 1.9185005e-06 -1.097615e-07 1.2154506e-06      10.8619    16.292833    21.723799     3844.485 
      36            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -1.9007613e-06 1.0798919e-07 -1.2034715e-06      10.8619    16.292833    21.723799     3844.485 
      37            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 1.7039542e-06 -9.6551004e-08 1.0785851e-06      10.8619    16.292833    21.723799     3844.485 
      38            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -1.5376795e-06 8.7020422e-08 -9.7320532e-07      10.8619    16.292833    21.723799     3844.485 
      39            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 1.9093989e-06 -1.0805315e-07 1.2084622e-06      10.8619    16.292833    21.723799     3844.485 
      40            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -1.5630148e-06 8.849367e-08 -9.8922937e-07      10.8619    16.292833    21.723799     3844.485 
      41            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 1.3882322e-06 -7.8551147e-08 8.7854827e-07      10.8619    16.292833    21.723799     3844.485 
      42            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -2.2620657e-06 1.2792335e-07 -1.4314801e-06      10.8619    16.292833    21.723799     3844.485 
      43            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 1.3686135e-06 -7.7391058e-08 8.6609638e-07      10.8619    16.292833    21.723799     3844.485 
      44            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -1.5719871e-06 8.8848658e-08 -9.9485134e-07      10.8619    16.292833    21.723799     3844.485 
      45            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 1.1761863e-06 -6.6399991e-08 7.4438946e-07      10.8619    16.292833    21.723799     3844.485 
      46            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -7.2803678e-07 4.0938683e-08 -4.6082608e-07      10.8619    16.292833    21.723799     3844.485 
      47            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 3.2496445e-07 -1.8154468e-08 2.0572996e-07      10.8619    16.292833    21.723799     3844.485 
      48            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -1.777279e-07 9.7539494e-09 -1.1250301e-07      10.8619    16.292833    21.723799     3844.485 
      49            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 6.7015266e-08 -3.515811e-09 4.2399801e-08      10.8619    16.292833    21.723799     3844.485 
      50            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -3.0633111e-08 1.4333094e-09 -1.9399004e-08      10.8619    16.292833    21.723799     3844.485 
      51            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 2.0830254e-08 -6.5849101e-10 1.3320047e-08      10.8619    16.292833    21.723799     3844.485 
      52            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 -6.6342793e-09 -7.8869081e-11 -4.3561932e-09      10.8619    16.292833    21.723799     3844.485 
      53            0    -832.6272    1.0142306   0.76422271    1.5142465   0.76422271 3.0717026e-09 4.665659e-10 2.1966715e-09      10.8619    16.292833    21.723799     3844.485 
Loop time of 0.0089442 on 8 procs for 49 steps with 192 atoms

99.8% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199814     -832.627199982     -832.627199982
  Force two-norm initial, final = 0.00295832 7.32767e-11
  Force max component initial, final = 0.000321141 8.87941e-12
  Final line search alpha, max atom move = 1 8.87941e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0025622  | 0.0029333  | 0.003226   |   0.3 | 32.80
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0022327  | 0.0024839  | 0.0028868  |   0.4 | 27.77
Output  | 0.0014425  | 0.00149    | 0.0016616  |   0.2 | 16.66
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002037   |            |       | 22.78

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 0.764222708859192
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.51424647199992
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 0.764222708857078
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 3.07170258376968e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 4.66565904584462e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 2.19667151113344e-09

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 76.4222708867688
variable C2neg equal ${d2}
variable C2neg equal 151.424647207371
variable C3neg equal ${d3}
variable C3neg equal 76.4222708855328
variable C4neg equal ${d4}
variable C4neg equal 2.39477470222224e-07
variable C5neg equal ${d5}
variable C5neg equal 3.83735189459619e-08
variable C6neg equal ${d6}
variable C6neg equal 2.48300973607058e-07

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*16.2928493352156
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 1.62928493352156e-05 yz delta ${deltayz} remap units box
change_box all y delta 0 1.62928493352156e-05 yz delta 0 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272   -1.0141646  -0.76415279   -1.5141823  -0.76415857    1.0338551   0.19830445   0.36391573      10.8619    16.292866    21.723799    3844.4927 
       5            0    -832.6272   -1.0142255  -0.76421809   -1.5142409  -0.76421761  -0.26570124 -0.050964916 -0.093529291      10.8619    16.292866    21.723799    3844.4927 
       6            0    -832.6272   -1.0142271  -0.76421955   -1.5142429  -0.76421898   0.25791087  0.049470951  0.090786011      10.8619    16.292866    21.723799    3844.4927 
       7            0    -832.6272   -1.0142271  -0.76421906    -1.514243  -0.76421922  -0.22572954 -0.043297876 -0.079458334      10.8619    16.292866    21.723799    3844.4927 
       8            0    -832.6272    -1.014227  -0.76421901   -1.5142431  -0.76421904   0.12788954   0.02453082   0.04501777      10.8619    16.292866    21.723799    3844.4927 
       9            0    -832.6272   -1.0142271  -0.76421903   -1.5142431  -0.76421901 -0.071642914 -0.013741942 -0.025218626      10.8619    16.292866    21.723799    3844.4927 
      10            0    -832.6272    -1.014227  -0.76421901   -1.5142431    -0.764219  0.035943077  0.006894185  0.012652021      10.8619    16.292866    21.723799    3844.4927 
      11            0    -832.6272    -1.014227    -0.764219   -1.5142431  -0.76421897 -0.022330059 -0.0042830189 -0.0078601469      10.8619    16.292866    21.723799    3844.4927 
      12            0    -832.6272    -1.014227  -0.76421899   -1.5142431  -0.76421898  0.011993195 0.0023002681 0.0042215272      10.8619    16.292866    21.723799    3844.4927 
      13            0    -832.6272    -1.014227  -0.76421899   -1.5142431  -0.76421897 -0.0061447917 -0.0011785008 -0.0021628887      10.8619    16.292866    21.723799    3844.4927 
      14            0    -832.6272    -1.014227  -0.76421899   -1.5142431  -0.76421898 0.0039512392 0.00075771744 0.0013907374      10.8619    16.292866    21.723799    3844.4927 
      15            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421897 -0.0019701265 -0.00037772677 -0.00069338846      10.8619    16.292866    21.723799    3844.4927 
      16            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 0.0012302658 0.0002357558 0.00043292348      10.8619    16.292866    21.723799    3844.4927 
      17            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -0.00085160254 -0.00016307008 -0.00029960348      10.8619    16.292866    21.723799    3844.4927 
      18            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 0.00059016419 0.00011282788 0.00020752086      10.8619    16.292866    21.723799    3844.4927 
      19            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -0.00035709156 -6.8140118e-05 -0.00012549049      10.8619    16.292866    21.723799    3844.4927 
      20            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 0.00018366112 3.489456e-05 6.4454481e-05      10.8619    16.292866    21.723799    3844.4927 
      21            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -9.6085605e-05 -1.8084618e-05 -3.3620829e-05      10.8619    16.292866    21.723799    3844.4927 
      22            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 4.5773418e-05 8.4527283e-06 1.5921766e-05      10.8619    16.292866    21.723799    3844.4927 
      23            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -1.9656235e-05 -3.3906654e-06 -6.6977168e-06      10.8619    16.292866    21.723799    3844.4927 
      24            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 1.1443408e-05 1.5874587e-06 3.6739551e-06      10.8619    16.292866    21.723799    3844.4927 
      25            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -3.3840287e-06 -1.4714319e-07 -8.9845056e-07      10.8619    16.292866    21.723799    3844.4927 
      26            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 1.1908054e-06 -7.4580956e-07 -1.4905219e-07      10.8619    16.292866    21.723799    3844.4927 
      27            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 4.5770631e-07 1.1970082e-06 8.0804683e-07      10.8619    16.292866    21.723799    3844.4927 
      28            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -1.0024544e-06 -1.14081e-06 -9.0596793e-07      10.8619    16.292866    21.723799    3844.4927 
      29            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 1.8277096e-06 1.5888067e-06 1.3652558e-06      10.8619    16.292866    21.723799    3844.4927 
      30            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -1.7179833e-06 -1.3700234e-06 -1.2112916e-06      10.8619    16.292866    21.723799    3844.4927 
      31            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 1.9827096e-06 1.5237143e-06 1.3644048e-06      10.8619    16.292866    21.723799    3844.4927 
      32            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -2.0905413e-06 -1.5790419e-06 -1.4225624e-06      10.8619    16.292866    21.723799    3844.4927 
      33            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 2.1823594e-06 1.6372562e-06 1.4785746e-06      10.8619    16.292866    21.723799    3844.4927 
      34            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -1.7233824e-06 -1.2882268e-06 -1.1649086e-06      10.8619    16.292866    21.723799    3844.4927 
      35            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 1.6834086e-06 1.2548036e-06 1.1359052e-06      10.8619    16.292866    21.723799    3844.4927 
      36            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -1.6683296e-06 -1.2418583e-06 -1.1247807e-06      10.8619    16.292866    21.723799    3844.4927 
      37            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 1.4956685e-06 1.112658e-06 1.0079752e-06      10.8619    16.292866    21.723799    3844.4927 
      38            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -1.3496403e-06 -1.003561e-06 -9.093217e-07      10.8619    16.292866    21.723799    3844.4927 
      39            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 1.6748807e-06 1.2451815e-06 1.1283746e-06      10.8619    16.292866    21.723799    3844.4927 
      40            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -1.3690338e-06 -1.0177339e-06 -9.223505e-07      10.8619    16.292866    21.723799    3844.4927 
      41            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 1.2125017e-06 9.0147338e-07 8.168982e-07      10.8619    16.292866    21.723799    3844.4927 
      42            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -1.9617833e-06 -1.4586752e-06 -1.3217157e-06      10.8619    16.292866    21.723799    3844.4927 
      43            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 1.1747447e-06 8.734626e-07 7.9137373e-07      10.8619    16.292866    21.723799    3844.4927 
      44            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -1.3262274e-06 -9.8601546e-07 -8.9334098e-07      10.8619    16.292866    21.723799    3844.4927 
      45            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 9.7161772e-07 7.2223579e-07 6.5445297e-07      10.8619    16.292866    21.723799    3844.4927 
      46            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -5.911201e-07 -4.3930584e-07 -3.9814647e-07      10.8619    16.292866    21.723799    3844.4927 
      47            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 2.6050096e-07 1.9363231e-07 1.7547518e-07      10.8619    16.292866    21.723799    3844.4927 
      48            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -1.4161422e-07 -1.0546409e-07 -9.5468688e-08      10.8619    16.292866    21.723799    3844.4927 
      49            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 5.3038574e-08 3.9692806e-08 3.5896676e-08      10.8619    16.292866    21.723799    3844.4927 
      50            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -2.4092116e-08 -1.8157488e-08 -1.6368749e-08      10.8619    16.292866    21.723799    3844.4927 
      51            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 1.6357709e-08 1.2424936e-08 1.113434e-08      10.8619    16.292866    21.723799    3844.4927 
      52            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 -5.2252788e-09 -3.9516231e-09 -3.529559e-09      10.8619    16.292866    21.723799    3844.4927 
      53            0    -832.6272    -1.014227  -0.76421898   -1.5142431  -0.76421898 2.4729451e-09 1.8347288e-09 1.5949849e-09      10.8619    16.292866    21.723799    3844.4927 
Loop time of 0.00899707 on 8 procs for 49 steps with 192 atoms

100.0% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199814     -832.627199982     -832.627199982
  Force two-norm initial, final = 0.00295832 7.32772e-11
  Force max component initial, final = 0.00032114 8.93311e-12
  Final line search alpha, max atom move = 1 8.93311e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0026639  | 0.0029672  | 0.0032277  |   0.3 | 32.98
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0022297  | 0.0024521  | 0.0027262  |   0.3 | 27.25
Output  | 0.0014348  | 0.0014875  | 0.0017187  |   0.2 | 16.53
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.00209    |            |       | 23.23

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.6271999823
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.01422702213452
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -0.76421897679284
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.51424311281651
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -0.764218976794222
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 2.47294508117635e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.8347287967906e-09
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.59498488534325e-09

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 76.4218976784343
variable C2pos equal ${d2}
variable C2pos equal 151.424311274272
variable C3pos equal ${d3}
variable C3pos equal 76.4218976795972
variable C4pos equal ${d4}
variable C4pos equal -1.79308807643205e-07
variable C5pos equal ${d5}
variable C5pos equal -1.75189808166576e-07
variable C6pos equal ${d6}
variable C6pos equal -1.88425223347725e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(76.4222708867688+${C1pos})
variable C12 equal 0.5*(76.4222708867688+76.4218976784343)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(151.424647207371+${C2pos})
variable C22 equal 0.5*(151.424647207371+151.424311274272)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(76.4222708855328+${C3pos})
variable C32 equal 0.5*(76.4222708855328+76.4218976795972)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(2.39477470222224e-07+${C4pos})
variable C42 equal 0.5*(2.39477470222224e-07+-1.79308807643205e-07)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(3.83735189459619e-08+${C5pos})
variable C52 equal 0.5*(3.83735189459619e-08+-1.75189808166576e-07)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(2.48300973607058e-07+${C6pos})
variable C62 equal 0.5*(2.48300973607058e-07+-1.88425223347725e-07)

# Delete dir to make sure it is not reused

variable dir delete

# uzz Perturbation

variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 21.7237991136209
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*21.7237991136209
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -2.17237991136209e-05 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272    1.0142931    0.7642889   0.76428352    1.5143069    1.0338602   0.19830544   0.36391759      10.8619    16.292849    21.723777     3844.485 
       5            0    -832.6272    1.0142321    0.7642236   0.76422488    1.5142478  -0.26570239 -0.050965137 -0.093529535      10.8619    16.292849    21.723777     3844.485 
       6            0    -832.6272    1.0142305   0.76422213   0.76422291    1.5142465   0.25791202  0.049471172  0.090786126      10.8619    16.292849    21.723777     3844.485 
       7            0    -832.6272    1.0142306   0.76422263   0.76422284    1.5142462  -0.22573093 -0.043298143 -0.079458438      10.8619    16.292849    21.723777     3844.485 
       8            0    -832.6272    1.0142306   0.76422267   0.76422274    1.5142464   0.12789056  0.024531017   0.04501777      10.8619    16.292849    21.723777     3844.485 
       9            0    -832.6272    1.0142306   0.76422266   0.76422269    1.5142464 -0.071643481 -0.013742051 -0.025218495      10.8619    16.292849    21.723777     3844.485 
      10            0    -832.6272    1.0142306   0.76422268    0.7642227    1.5142464  0.035943415 0.0068942496  0.012651853      10.8619    16.292849    21.723777     3844.485 
      11            0    -832.6272    1.0142306   0.76422269    0.7642227    1.5142465 -0.022330319 -0.0042830684 -0.007859918      10.8619    16.292849    21.723777     3844.485 
      12            0    -832.6272    1.0142306    0.7642227    0.7642227    1.5142465  0.011993367 0.0023003007 0.0042213102      10.8619    16.292849    21.723777     3844.485 
      13            0    -832.6272    1.0142306    0.7642227    0.7642227    1.5142465 -0.006144896 -0.0011785204 -0.0021626903      10.8619    16.292849    21.723777     3844.485 
      14            0    -832.6272    1.0142306    0.7642227    0.7642227    1.5142465 0.0039513354 0.00075773542 0.0013905127      10.8619    16.292849    21.723777     3844.485 
      15            0    -832.6272    1.0142306    0.7642227    0.7642227    1.5142465 -0.0019702055 -0.00037774163 -0.00069317391      10.8619    16.292849    21.723777     3844.485 
      16            0    -832.6272    1.0142306    0.7642227    0.7642227    1.5142465 0.0012303622 0.00023577405 0.00043264313      10.8619    16.292849    21.723777     3844.485 
      17            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -0.00085171849 -0.00016309212 -0.00029925771      10.8619    16.292849    21.723777     3844.485 
      18            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 0.00059032075 0.00011285774 0.00020705919      10.8619    16.292849    21.723777     3844.485 
      19            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -0.00035724016 -6.8168489e-05 -0.00012505239      10.8619    16.292849    21.723777     3844.485 
      20            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 0.00018380183 3.4921426e-05 6.404234e-05      10.8619    16.292849    21.723777     3844.485 
      21            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -9.6231077e-05 -1.8112338e-05 -3.3193601e-05      10.8619    16.292849    21.723777     3844.485 
      22            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 4.5911148e-05 8.4789834e-06 1.5517814e-05      10.8619    16.292849    21.723777     3844.485 
      23            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -1.9816292e-05 -3.4212288e-06 -6.2286515e-06      10.8619    16.292849    21.723777     3844.485 
      24            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 1.1699631e-05 1.6364641e-06 2.9235312e-06      10.8619    16.292849    21.723777     3844.485 
      25            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -3.5958011e-06 -1.8771057e-07 -2.7835393e-07      10.8619    16.292849    21.723777     3844.485 
      26            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 1.6018771e-06 -6.669671e-07 -1.3524722e-06      10.8619    16.292849    21.723777     3844.485 
      27            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -1.0427123e-08 1.1071527e-06  2.17825e-06      10.8619    16.292849    21.723777     3844.485 
      28            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -6.0203625e-07 -1.0639746e-06 -2.0776978e-06      10.8619    16.292849    21.723777     3844.485 
      29            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 1.3048978e-06 1.488552e-06 2.8947362e-06      10.8619    16.292849    21.723777     3844.485 
      30            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -1.2785919e-06 -1.2857571e-06 -2.4964093e-06      10.8619    16.292849    21.723777     3844.485 
      31            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 1.4996285e-06 1.4310126e-06 2.7764944e-06      10.8619    16.292849    21.723777     3844.485 
      32            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -1.5924963e-06 -1.4834897e-06 -2.8772795e-06      10.8619    16.292849    21.723777     3844.485 
      33            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 1.6667905e-06 1.5382961e-06 2.9831257e-06      10.8619    16.292849    21.723777     3844.485 
      34            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -1.317935e-06 -1.2103554e-06 -2.3469212e-06      10.8619    16.292849    21.723777     3844.485 
      35            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 1.288386e-06 1.1789412e-06 2.2858528e-06      10.8619    16.292849    21.723777     3844.485 
      36            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -1.2768338e-06 -1.1663876e-06 -2.2615873e-06      10.8619    16.292849    21.723777     3844.485 
      37            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 1.1439599e-06 1.0441984e-06 2.0248496e-06      10.8619    16.292849    21.723777     3844.485 
      38            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -1.0309231e-06 -9.4068791e-07 -1.8241537e-06      10.8619    16.292849    21.723777     3844.485 
      39            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 1.2749132e-06 1.1632226e-06 2.255646e-06      10.8619    16.292849    21.723777     3844.485 
      40            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -1.0345677e-06 -9.4392608e-07 -1.8302711e-06      10.8619    16.292849    21.723777     3844.485 
      41            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 9.0427074e-07 8.2494144e-07 1.5995576e-06      10.8619    16.292849    21.723777     3844.485 
      42            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -1.4165405e-06 -1.2921608e-06 -2.5055254e-06      10.8619    16.292849    21.723777     3844.485 
      43            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 8.1036655e-07 7.3919922e-07 1.4333145e-06      10.8619    16.292849    21.723777     3844.485 
      44            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -8.5230675e-07 -7.7740155e-07 -1.5074619e-06      10.8619    16.292849    21.723777     3844.485 
      45            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 5.7767655e-07 5.2683698e-07 1.0216633e-06      10.8619    16.292849    21.723777     3844.485 
      46            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -3.3171745e-07 -3.0243868e-07 -5.8659227e-07      10.8619    16.292849    21.723777     3844.485 
      47            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 1.4071071e-07 1.2814257e-07 2.4864312e-07      10.8619    16.292849    21.723777     3844.485 
      48            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -7.5973763e-08 -6.8868685e-08 -1.3381479e-07      10.8619    16.292849    21.723777     3844.485 
      49            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 2.8679923e-08 2.5678401e-08 5.0088846e-08      10.8619    16.292849    21.723777     3844.485 
      50            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -1.3343372e-08 -1.1623384e-08 -2.2837644e-08      10.8619    16.292849    21.723777     3844.485 
      51            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 9.5642518e-09 7.7852223e-09 1.5570832e-08      10.8619    16.292849    21.723777     3844.485 
      52            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 -3.5673055e-09 -2.416978e-09 -4.9393153e-09      10.8619    16.292849    21.723777     3844.485 
      53            0    -832.6272    1.0142306   0.76422271   0.76422271    1.5142465 2.314042e-09 1.0550464e-09 2.1519629e-09      10.8619    16.292849    21.723777     3844.485 
Loop time of 0.00869108 on 8 procs for 49 steps with 192 atoms

99.2% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199814     -832.627199982     -832.627199982
  Force two-norm initial, final = 0.00295832 7.32814e-11
  Force max component initial, final = 0.000321141 8.92526e-12
  Final line search alpha, max atom move = 1 8.92526e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0025955  | 0.0029361  | 0.0032347  |   0.3 | 33.78
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0020827  | 0.0023176  | 0.0026402  |   0.4 | 26.67
Output  | 0.0014017  | 0.0014546  | 0.0016425  |   0.2 | 16.74
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001983   |            |       | 22.81

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 0.764222708954712
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 0.764222708840054
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.514246472315
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 2.31404200693215e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.05504641410934e-09
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 2.15196292769724e-09

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 76.4222708963209
variable C2neg equal ${d2}
variable C2neg equal 76.4222708913849
variable C3neg equal ${d3}
variable C3neg equal 151.424647231325
variable C4neg equal ${d4}
variable C4neg equal 2.35006611878604e-07
variable C5neg equal ${d5}
variable C5neg equal 9.72215698984497e-08
variable C6neg equal ${d6}
variable C6neg equal 1.72534915923305e-07

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*21.7237991136209
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 2.17237991136209e-05 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272   -1.0141646  -0.76415279  -0.76415817   -1.5141827    1.0338552   0.19830442   0.36391573      10.8619    16.292849    21.723821    3844.4927 
       5            0    -832.6272   -1.0142255  -0.76421809  -0.76421681   -1.5142418  -0.26570078 -0.050965005 -0.093529293      10.8619    16.292849    21.723821    3844.4927 
       6            0    -832.6272   -1.0142271  -0.76421955  -0.76421877   -1.5142431   0.25791009  0.049471119  0.090786028      10.8619    16.292849    21.723821    3844.4927 
       7            0    -832.6272   -1.0142271  -0.76421906  -0.76421885   -1.5142434  -0.22572875 -0.043298146 -0.079458443      10.8619    16.292849    21.723821    3844.4927 
       8            0    -832.6272    -1.014227  -0.76421901  -0.76421895   -1.5142432   0.12788907  0.024531122  0.045017963      10.8619    16.292849    21.723821    3844.4927 
       9            0    -832.6272   -1.0142271  -0.76421903  -0.76421899   -1.5142431  -0.07164265 -0.013742251 -0.025218862      10.8619    16.292849    21.723821    3844.4927 
      10            0    -832.6272    -1.014227  -0.76421901  -0.76421899   -1.5142431  0.035942929 0.0068944687  0.012652256      10.8619    16.292849    21.723821    3844.4927 
      11            0    -832.6272    -1.014227    -0.764219  -0.76421898   -1.5142431 -0.022329928 -0.0042833423 -0.0078604206      10.8619    16.292849    21.723821    3844.4927 
      12            0    -832.6272    -1.014227  -0.76421899  -0.76421899   -1.5142431  0.011993115 0.0023005548 0.0042217762      10.8619    16.292849    21.723821    3844.4927 
      13            0    -832.6272    -1.014227  -0.76421899  -0.76421898   -1.5142431 -0.0061447195 -0.0011787427 -0.002163098      10.8619    16.292849    21.723821    3844.4927 
      14            0    -832.6272    -1.014227  -0.76421899  -0.76421898   -1.5142431 0.0039511588 0.0007579832 0.0013909673      10.8619    16.292849    21.723821    3844.4927 
      15            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -0.0019700351 -0.00037797287 -0.00069359849      10.8619    16.292849    21.723821    3844.4927 
      16            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 0.0012301327 0.0002360723 0.00043319117      10.8619    16.292849    21.723821    3844.4927 
      17            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -0.00085143222 -0.0001634583 -0.00029993087      10.8619    16.292849    21.723821    3844.4927 
      18            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 0.00058992593 0.00011334492 0.00020795523      10.8619    16.292849    21.723821    3844.4927 
      19            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -0.00035686322 -6.8630314e-05 -0.00012590202      10.8619    16.292849    21.723821    3844.4927 
      20            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 0.00018344188 3.5355137e-05 6.4840361e-05      10.8619    16.292849    21.723821    3844.4927 
      21            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -9.5855749e-05 -1.8561322e-05 -3.4019654e-05      10.8619    16.292849    21.723821    3844.4927 
      22            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 4.5554851e-05 8.9033538e-06 1.6298441e-05      10.8619    16.292849    21.723821    3844.4927 
      23            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -1.9401284e-05 -3.9139167e-06 -7.1346521e-06      10.8619    16.292849    21.723821    3844.4927 
      24            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 1.1034717e-05 2.4246604e-06 4.3727722e-06      10.8619    16.292849    21.723821    3844.4927 
      25            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -3.0459089e-06 -8.3897908e-07 -1.4759396e-06      10.8619    16.292849    21.723821    3844.4927 
      26            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 5.3427547e-07 5.9689441e-07 9.7175076e-07      10.8619    16.292849    21.723821    3844.4927 
      27            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 1.2051739e-06 -3.3176165e-07 -4.6803491e-07      10.8619    16.292849    21.723821    3844.4927 
      28            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -1.641526e-06 1.6642918e-07 1.8518422e-07      10.8619    16.292849    21.723821    3844.4927 
      29            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 2.6618875e-06 -1.1756438e-07 -5.902985e-08      10.8619    16.292849    21.723821    3844.4927 
      30            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -2.4189588e-06 6.3762065e-08 -1.4520592e-08      10.8619    16.292849    21.723821    3844.4927 
      31            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 2.7529631e-06 -5.1852864e-08 4.9292358e-08      10.8619    16.292849    21.723821    3844.4927 
      32            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -2.8840382e-06 4.4264693e-08 -6.7572622e-08      10.8619    16.292849    21.723821    3844.4927 
      33            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 3.0031759e-06 -4.2062059e-08 7.6844667e-08      10.8619    16.292849    21.723821    3844.4927 
      34            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -2.3684459e-06 3.1515538e-08 -6.3301654e-08      10.8619    16.292849    21.723821    3844.4927 
      35            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 2.3111404e-06 -2.950421e-08 6.3744875e-08      10.8619    16.292849    21.723821    3844.4927 
      36            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -2.2892679e-06 2.8559352e-08 -6.4031777e-08      10.8619    16.292849    21.723821    3844.4927 
      37            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 2.0519618e-06 -2.5244318e-08 5.7730571e-08      10.8619    16.292849    21.723821    3844.4927 
      38            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -1.851538e-06 2.2593379e-08 -5.2281221e-08      10.8619    16.292849    21.723821    3844.4927 
      39            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 2.2987712e-06 -2.7891398e-08 6.4971927e-08      10.8619    16.292849    21.723821    3844.4927 
      40            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -1.8810795e-06 2.2666813e-08 -5.3183047e-08      10.8619    16.292849    21.723821    3844.4927 
      41            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 1.6691736e-06 -1.9974959e-08 4.7215136e-08      10.8619    16.292849    21.723821    3844.4927 
      42            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -2.7134608e-06 3.2382925e-08 -7.6796189e-08      10.8619    16.292849    21.723821    3844.4927 
      43            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 1.6358559e-06 -1.9547767e-08 4.6320426e-08      10.8619    16.292849    21.723821    3844.4927 
      44            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -1.8678136e-06 2.227516e-08 -5.2965056e-08      10.8619    16.292849    21.723821    3844.4927 
      45            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 1.3871727e-06 -1.6488205e-08 3.9456023e-08      10.8619    16.292849    21.723821    3844.4927 
      46            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -8.5327651e-07 1.001457e-08 -2.4391335e-08      10.8619    16.292849    21.723821    3844.4927 
      47            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 3.7891755e-07 -4.3679605e-09 1.0900815e-08      10.8619    16.292849    21.723821    3844.4927 
      48            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -2.0673052e-07 2.3098998e-09 -6.0220824e-09      10.8619    16.292849    21.723821    3844.4927 
      49            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 7.7720794e-08 -8.4187607e-10 2.2731892e-09      10.8619    16.292849    21.723821    3844.4927 
      50            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -3.5303637e-08 3.5978584e-10 -9.6681604e-10      10.8619    16.292849    21.723821    3844.4927 
      51            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 2.3901673e-08 -1.7706457e-10 4.3840074e-10      10.8619    16.292849    21.723821    3844.4927 
      52            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 -7.5880752e-09 -1.0748613e-11 6.0424174e-11      10.8619    16.292849    21.723821    3844.4927 
      53            0    -832.6272    -1.014227  -0.76421898  -0.76421898   -1.5142431 3.437764e-09 3.8205461e-11 -2.9309025e-10      10.8619    16.292849    21.723821    3844.4927 
Loop time of 0.00854984 on 8 procs for 49 steps with 192 atoms

100.0% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199814     -832.627199982     -832.627199982
  Force two-norm initial, final = 0.00295832 7.32923e-11
  Force max component initial, final = 0.000321141 8.86842e-12
  Final line search alpha, max atom move = 1 8.86842e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0026273  | 0.0028879  | 0.0031697  |   0.3 | 33.78
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0020376  | 0.0022091  | 0.0024582  |   0.3 | 25.84
Output  | 0.0013835  | 0.0014516  | 0.0016111  |   0.2 | 16.98
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002001   |            |       | 23.41

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.627199982299
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.01422702229335
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -0.764218976921471
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -0.764218977052148
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.51424311290643
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 3.43776403289103e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 3.82054611897172e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -2.93090251368128e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 76.4218976912975
variable C2pos equal ${d2}
variable C2pos equal 76.4218976978353
variable C3pos equal ${d3}
variable C3pos equal 151.424311290818
variable C4pos equal ${d4}
variable C4pos equal 9.4987060279332e-09
variable C5pos equal ${d5}
variable C5pos equal 4.46252539351258e-09
variable C6pos equal ${d6}
variable C6pos equal -2.84907118519193e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(76.4222708963209+${C1pos})
variable C13 equal 0.5*(76.4222708963209+76.4218976912975)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(76.4222708913849+${C2pos})
variable C23 equal 0.5*(76.4222708913849+76.4218976978353)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(151.424647231325+${C3pos})
variable C33 equal 0.5*(151.424647231325+151.424311290818)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(2.35006611878604e-07+${C4pos})
variable C43 equal 0.5*(2.35006611878604e-07+9.4987060279332e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(9.72215698984497e-08+${C5pos})
variable C53 equal 0.5*(9.72215698984497e-08+4.46252539351258e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(1.72534915923305e-07+${C6pos})
variable C63 equal 0.5*(1.72534915923305e-07+-2.84907118519193e-07)

# Delete dir to make sure it is not reused

variable dir delete

# uyz Perturbation

variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 21.7237991136209
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*21.7237991136209
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -2.17237991136209e-05 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 -2.17238e-05)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272 6.3402414e-05 6.7374362e-05 6.034492e-05 6.248796e-05    1.0338578   0.19830649    1.4614815      10.8619    16.292849    21.723799    3844.4888 
       5            0    -832.6272 1.186178e-06 3.706977e-07 1.8412721e-06 1.3465641e-06  -0.26155012 -0.050170657   0.33756308      10.8619    16.292849    21.723799    3844.4888 
       6            0    -832.6272 -1.7700506e-07 -4.2343198e-07 -5.3826183e-07 4.3067864e-07   0.24566497  0.047124125   0.77764042      10.8619    16.292849    21.723799    3844.4888 
       7            0    -832.6272 -3.5017725e-07 -5.381822e-07 -2.8894942e-07 -2.2340015e-07  -0.19785572 -0.037953167   0.39282665      10.8619    16.292849    21.723799    3844.4888 
       8            0    -832.6272 -1.5435504e-07 -4.4624105e-08 -6.2678038e-07 2.0833938e-07   0.10215636  0.019595755   0.65312787      10.8619    16.292849    21.723799    3844.4888 
       9            0    -832.6272 -2.4111568e-07 -2.6841312e-07 -5.5262451e-07 9.7690587e-08 -0.052873226 -0.010142081   0.51861861      10.8619    16.292849    21.723799    3844.4888 
      10            0    -832.6272 -1.9233086e-07 -1.4216024e-07 -6.1007642e-07 1.752441e-07  0.025191025 0.0048319329   0.58635003      10.8619    16.292849    21.723799    3844.4888 
      11            0    -832.6272 -1.9679408e-07 -1.8258443e-07 -5.7295482e-07  1.65157e-07 -0.015221995 -0.002919598   0.55128616      10.8619    16.292849    21.723799    3844.4888 
      12            0    -832.6272 -1.8562541e-07 -1.4522212e-07 -5.9327579e-07 1.8162167e-07 0.0079972184 0.0015337244   0.57143208      10.8619    16.292849    21.723799    3844.4888 
      13            0    -832.6272 -1.8943171e-07 -1.623017e-07 -5.8108001e-07 1.7508657e-07 -0.0040425757 -0.00077517903   0.56098583      10.8619    16.292849    21.723799    3844.4888 
      14            0    -832.6272 -1.8506318e-07 -1.480792e-07 -5.8692342e-07 1.7981307e-07 0.0025806739 0.00049470025   0.56673251      10.8619    16.292849    21.723799    3844.4888 
      15            0    -832.6272 -1.850747e-07 -1.5213872e-07 -5.8111017e-07 1.7802478e-07 -0.0012817105 -0.00024554485   0.56338125      10.8619    16.292849    21.723799    3844.4888 
      16            0    -832.6272 -1.8336299e-07 -1.4654554e-07 -5.8235684e-07 1.7881341e-07 0.0007986662 0.00015278013   0.56518639      10.8619    16.292849    21.723799    3844.4888 
      17            0    -832.6272 -1.82679e-07 -1.4715505e-07 -5.7896353e-07 1.7808158e-07 -0.000551766 -0.00010531723   0.56401454      10.8619    16.292849    21.723799    3844.4888 
      18            0    -832.6272 -1.8157241e-07 -1.4367495e-07 -5.7896359e-07 1.7792129e-07 0.00038140447 7.2457055e-05   0.56482442      10.8619    16.292849    21.723799    3844.4888 
      19            0    -832.6272 -1.8145071e-07 -1.4408868e-07 -5.7753681e-07 1.7727337e-07 -0.00023011567 -4.3470694e-05   0.56429359      10.8619    16.292849    21.723799    3844.4888 
      20            0    -832.6272 -1.8113912e-07 -1.4296979e-07 -5.7754736e-07 1.7709978e-07 0.00011766236 2.1937658e-05   0.56459557      10.8619    16.292849    21.723799    3844.4888 
      21            0    -832.6272 -1.8110118e-07 -1.430885e-07 -5.7713841e-07 1.7692338e-07 -6.0793896e-05 -1.1005531e-05    0.5644405      10.8619    16.292849    21.723799    3844.4888 
      22            0    -832.6272 -1.810844e-07 -1.4286327e-07 -5.7725222e-07 1.7686228e-07 2.8241669e-05 4.7963353e-06   0.56451799      10.8619    16.292849    21.723799    3844.4888 
      23            0    -832.6272 -1.8103134e-07 -1.428294e-07 -5.7714197e-07 1.7687736e-07 -1.1068394e-05 -1.4017817e-06   0.56448363      10.8619    16.292849    21.723799    3844.4888 
      24            0    -832.6272 -1.8101115e-07 -1.4278452e-07 -5.7715638e-07 1.7690746e-07 4.7332837e-06 -2.4674357e-07   0.56449769      10.8619    16.292849    21.723799    3844.4888 
      25            0    -832.6272 -1.8103055e-07 -1.4280615e-07 -5.7717701e-07 1.768915e-07 2.7111491e-08 9.5944505e-07   0.56449321      10.8619    16.292849    21.723799    3844.4888 
      26            0    -832.6272 -1.809917e-07 -1.4277243e-07 -5.7713373e-07 1.7693106e-07 -3.5399992e-06 -2.5311204e-06   0.56449064      10.8619    16.292849    21.723799    3844.4888 
      27            0    -832.6272 -1.809839e-07 -1.4276081e-07 -5.771472e-07 1.769563e-07 5.2068157e-06 3.1073951e-06   0.56449749      10.8619    16.292849    21.723799    3844.4888 
      28            0    -832.6272 -1.8101104e-07 -1.4279367e-07 -5.7716747e-07 1.7692802e-07 -4.8487095e-06 -2.7331122e-06    0.5644895      10.8619    16.292849    21.723799    3844.4888 
      29            0    -832.6272 -1.8099032e-07 -1.4275853e-07 -5.7716433e-07 1.7695191e-07 6.665627e-06 3.6320793e-06   0.56449871      10.8619    16.292849    21.723799    3844.4888 
      30            0    -832.6272 -1.8097042e-07 -1.4274998e-07 -5.7713107e-07 1.7696978e-07 -5.718447e-06 -3.0743078e-06   0.56448878      10.8619    16.292849    21.723799    3844.4888 
      31            0    -832.6272 -1.8096699e-07 -1.4274554e-07 -5.7713078e-07 1.7697535e-07 6.3437486e-06 3.3893178e-06   0.56449847      10.8619    16.292849    21.723799    3844.4888 
      32            0    -832.6272 -1.8094406e-07 -1.4273177e-07 -5.7708715e-07 1.7698674e-07 -6.5638809e-06 -3.4964208e-06   0.56448809      10.8619    16.292849    21.723799    3844.4888 
      33            0    -832.6272 -1.8099482e-07 -1.4276478e-07 -5.7716351e-07 1.7694383e-07 6.7954385e-06 3.6154524e-06   0.56449883      10.8619    16.292849    21.723799    3844.4888 
      34            0    -832.6272 -1.8094951e-07 -1.4272856e-07 -5.7710316e-07 1.769832e-07 -5.334414e-06 -2.8363627e-06   0.56448908      10.8619    16.292849    21.723799    3844.4888 
      35            0    -832.6272 -1.8098593e-07 -1.4275764e-07 -5.7715186e-07 1.7695171e-07 5.1809385e-06 2.7535806e-06   0.56449753      10.8619    16.292849    21.723799    3844.4888 
      36            0    -832.6272 -1.8098727e-07 -1.4276846e-07 -5.7714061e-07 1.7694726e-07 -5.0973254e-06 -2.7086213e-06   0.56448927      10.8619    16.292849    21.723799    3844.4888 
      37            0    -832.6272 -1.8097453e-07 -1.4274873e-07 -5.7713744e-07 1.7696256e-07 4.5077635e-06 2.3951879e-06   0.56449699      10.8619    16.292849    21.723799    3844.4888 
      38            0    -832.6272 -1.8099149e-07 -1.4277273e-07 -5.7714808e-07 1.7694633e-07 -3.9765977e-06 -2.112862e-06   0.56449017      10.8619    16.292849    21.723799    3844.4888 
      39            0    -832.6272 -1.8094084e-07 -1.4272063e-07 -5.7710797e-07 1.7700609e-07 4.6568403e-06 2.4743005e-06   0.56449711      10.8619    16.292849    21.723799    3844.4888 
      40            0    -832.6272 -1.8098728e-07 -1.4276472e-07 -5.7714317e-07 1.7694606e-07 -3.400242e-06 -1.8066373e-06   0.56449063      10.8619    16.292849    21.723799    3844.4888 
      41            0    -832.6272 -1.8098199e-07 -1.4275906e-07 -5.7714072e-07 1.7695381e-07 2.5142112e-06 1.3359187e-06   0.56449539      10.8619    16.292849    21.723799    3844.4888 
      42            0    -832.6272 -1.8099975e-07 -1.4277991e-07 -5.7715694e-07 1.769376e-07 -2.8790285e-06 -1.5297546e-06   0.56449105      10.8619    16.292849    21.723799    3844.4888 
      43            0    -832.6272 -1.8098725e-07 -1.4276482e-07 -5.7714692e-07 1.7694998e-07 1.2073097e-06 6.4144484e-07   0.56449434      10.8619    16.292849    21.723799    3844.4888 
      44            0    -832.6272 -1.810213e-07 -1.4279414e-07 -5.771845e-07 1.7691475e-07 -9.1384883e-07 -4.8543669e-07   0.56449263      10.8619    16.292849    21.723799    3844.4888 
      45            0    -832.6272 -1.8100386e-07 -1.4278585e-07 -5.7716557e-07 1.7693983e-07 4.8133105e-07 2.555932e-07   0.56449375      10.8619    16.292849    21.723799    3844.4888 
      46            0    -832.6272 -1.8099588e-07 -1.4277609e-07 -5.7716319e-07 1.7695162e-07 -2.3948961e-07 -1.2683326e-07   0.56449317      10.8619    16.292849    21.723799    3844.4888 
      47            0    -832.6272 -1.8099152e-07 -1.4277018e-07 -5.7715593e-07 1.7695154e-07 9.3727092e-08 4.9136178e-08   0.56449344      10.8619    16.292849    21.723799    3844.4888 
      48            0    -832.6272 -1.8097289e-07 -1.4275478e-07 -5.7712621e-07 1.7696231e-07 -4.9870111e-08 -2.5229378e-08   0.56449333      10.8619    16.292849    21.723799    3844.4888 
      49            0    -832.6272 -1.809403e-07 -1.427199e-07 -5.7708905e-07 1.7698804e-07 1.8952454e-08 8.8551166e-09   0.56449338      10.8619    16.292849    21.723799    3844.4888 
      50            0    -832.6272 -1.8096173e-07 -1.4273992e-07 -5.7712364e-07 1.7697837e-07 -9.0958492e-09 -3.6415278e-09   0.56449336      10.8619    16.292849    21.723799    3844.4888 
      51            0    -832.6272 -1.8097076e-07 -1.427505e-07 -5.7712645e-07 1.7696468e-07 7.0755874e-09 1.9039612e-09   0.56449337      10.8619    16.292849    21.723799    3844.4888 
      52            0    -832.6272 -1.8099208e-07 -1.4276966e-07 -5.7714445e-07 1.7693789e-07 -2.8242513e-09 -1.5314193e-10   0.56449337      10.8619    16.292849    21.723799    3844.4888 
      53            0    -832.6272 -1.8097673e-07 -1.4275792e-07 -5.7713256e-07 1.7696028e-07 1.9432061e-09 -5.4782884e-10   0.56449337      10.8619    16.292849    21.723799    3844.4888 
Loop time of 0.00843344 on 8 procs for 49 steps with 192 atoms

100.0% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199814     -832.627199983     -832.627199983
  Force two-norm initial, final = 0.00297695 7.32984e-11
  Force max component initial, final = 0.000321141 8.91456e-12
  Final line search alpha, max atom move = 1 8.91456e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0026534  | 0.0028976  | 0.0031118  |   0.3 | 34.36
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019394  | 0.0021169  | 0.0023105  |   0.3 | 25.10
Output  | 0.0014272  | 0.0014952  | 0.0016446  |   0.2 | 17.73
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001924   |            |       | 22.81

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.42757920573884e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -5.77132560870584e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.76960276498374e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.9432060868426e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -5.47828844079803e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 0.564493368668242

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -1.42749424112134e-05
variable C2neg equal ${d2}
variable C2neg equal -5.77058766247907e-05
variable C3neg equal ${d3}
variable C3neg equal 1.76958526922419e-05
variable C4neg equal ${d4}
variable C4neg equal 56.4493368866345
variable C5neg equal ${d5}
variable C5neg equal -6.30659559204646e-08
variable C6neg equal ${d6}
variable C6neg equal 1.3545132391435e-07

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*21.7237991136209
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 2.17237991136209e-05 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 2.17238e-05)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272 6.2295167e-05 6.632923e-05 5.9934477e-05 6.0621795e-05    1.0338576   0.19830338  -0.73364816      10.8619    16.292849    21.723799    3844.4888 
       5            0    -832.6272 1.260943e-06 6.7701002e-07 1.6226906e-06 1.4831283e-06  -0.26635275 -0.051088079  -0.52091315      10.8619    16.292849    21.723799    3844.4888 
       6            0    -832.6272 -2.8269232e-07 -6.4580165e-07 -4.176489e-07 2.1537358e-07    0.2599142  0.049853372  -0.60702141      10.8619    16.292849    21.723799    3844.4888 
       7            0    -832.6272 -2.6900095e-07 -2.7456801e-07 -4.1705763e-07 -1.153772e-07  -0.23075158 -0.044259489  -0.52673709      10.8619    16.292849    21.723799    3844.4888 
       8            0    -832.6272 -1.9251616e-07 -1.4321279e-07 -5.6690965e-07 1.3257395e-07   0.13306909  0.025523641   -0.5862669      10.8619    16.292849    21.723799    3844.4888 
       9            0    -832.6272 -2.2208722e-07 -2.1034367e-07 -5.8383808e-07 1.2792011e-07 -0.075799385 -0.014539027  -0.55209052      10.8619    16.292849    21.723799    3844.4888 
      10            0    -832.6272 -2.0097304e-07 -1.6624116e-07 -5.9505991e-07 1.5838195e-07  0.038480346  0.007380997  -0.57078996      10.8619    16.292849    21.723799    3844.4888 
      11            0    -832.6272 -1.914153e-07 -1.6721055e-07 -5.8158138e-07 1.7454605e-07 -0.024065916 -0.0046163199   -0.5605553      10.8619    16.292849    21.723799    3844.4888 
      12            0    -832.6272 -1.8837579e-07 -1.5281696e-07 -5.8871178e-07 1.7640138e-07  0.012996209 0.0024930384  -0.56662012      10.8619    16.292849    21.723799    3844.4888 
      13            0    -832.6272 -1.880395e-07 -1.5843435e-07 -5.8332293e-07 1.7763878e-07 -0.0066813526 -0.0012817873  -0.56339993      10.8619    16.292849    21.723799    3844.4888 
      14            0    -832.6272 -1.8593561e-07 -1.5048487e-07 -5.8547033e-07 1.7814839e-07  0.004304173 0.0008258511  -0.56519784      10.8619    16.292849    21.723799    3844.4888 
      15            0    -832.6272 -1.8462909e-07 -1.5092737e-07 -5.8180073e-07 1.7884083e-07 -0.002148167 -0.0004123066  -0.56414169      10.8619    16.292849    21.723799    3844.4888 
      16            0    -832.6272 -1.8366848e-07 -1.4732368e-07 -5.8195205e-07 1.7827029e-07 0.0013420323 0.00025776672  -0.56471319      10.8619    16.292849    21.723799    3844.4888 
      17            0    -832.6272 -1.8243771e-07 -1.4659138e-07 -5.7920874e-07 1.7848699e-07 -0.00092927404 -0.00017868103  -0.56434103      10.8619    16.292849    21.723799    3844.4888 
      18            0    -832.6272 -1.8173158e-07 -1.4405267e-07 -5.7879346e-07 1.776514e-07 0.00064417402 0.00012414691  -0.56459915      10.8619    16.292849    21.723799    3844.4888 
      19            0    -832.6272 -1.8134546e-07 -1.4384652e-07 -5.7763647e-07 1.7744661e-07 -0.00038988778 -7.5343633e-05  -0.56442922      10.8619    16.292849    21.723799    3844.4888 
      20            0    -832.6272 -1.8118421e-07 -1.4307733e-07 -5.7749522e-07 1.7701993e-07 0.00020062786 3.9010039e-05  -0.56452653      10.8619    16.292849    21.723799    3844.4888 
      21            0    -832.6272 -1.8106727e-07 -1.4302097e-07 -5.7715827e-07 1.7697742e-07 -0.00010506456 -2.070027e-05  -0.56447583      10.8619    16.292849    21.723799    3844.4888 
      22            0    -832.6272 -1.8105162e-07 -1.4284628e-07 -5.7719626e-07 1.7688769e-07 5.014648e-05 1.0136971e-05   -0.5645019      10.8619    16.292849    21.723799    3844.4888 
      23            0    -832.6272 -1.8105632e-07 -1.4284573e-07 -5.7718034e-07 1.7685712e-07 -2.167422e-05 -4.7600462e-06  -0.56448944      10.8619    16.292849    21.723799    3844.4888 
      24            0    -832.6272 -1.8099366e-07 -1.4276073e-07 -5.7714039e-07 1.7692015e-07 1.2844332e-05 3.4282567e-06  -0.56449608      10.8619    16.292849    21.723799    3844.4888 
      25            0    -832.6272 -1.8097231e-07 -1.4275181e-07 -5.7710691e-07 1.7694179e-07 -3.9867251e-06 -1.5620824e-06  -0.56449221      10.8619    16.292849    21.723799    3844.4888 
      26            0    -832.6272 -1.8098517e-07 -1.4275788e-07 -5.7714555e-07 1.7694791e-07 1.8690684e-06 1.906156e-06  -0.56449465      10.8619    16.292849    21.723799    3844.4888 
      27            0    -832.6272 -1.8102319e-07 -1.4280048e-07 -5.7718315e-07 1.7691406e-07 -1.4873001e-07 -1.7907492e-06  -0.56449223      10.8619    16.292849    21.723799    3844.4888 
      28            0    -832.6272 -1.8099864e-07 -1.4277897e-07 -5.7714916e-07 1.7693221e-07 -5.3970727e-07 1.4034152e-06  -0.56449423      10.8619    16.292849    21.723799    3844.4888 
      29            0    -832.6272 -1.8092814e-07 -1.4271046e-07 -5.7707588e-07 1.7700191e-07 1.2710409e-06 -1.7232771e-06  -0.56449234      10.8619    16.292849    21.723799    3844.4888 
      30            0    -832.6272 -1.8099253e-07 -1.4276856e-07 -5.7715654e-07 1.7694752e-07 -1.2667798e-06 1.4098135e-06   -0.5644942      10.8619    16.292849    21.723799    3844.4888 
      31            0    -832.6272 -1.8099601e-07 -1.4276981e-07 -5.7715688e-07 1.7693864e-07 1.4955023e-06 -1.5291949e-06  -0.56449247      10.8619    16.292849    21.723799    3844.4888 
      32            0    -832.6272 -1.8097395e-07 -1.4275297e-07 -5.77124e-07 1.7695513e-07 -1.5929039e-06 1.5653786e-06  -0.56449429      10.8619    16.292849    21.723799    3844.4888 
      33            0    -832.6272 -1.8097404e-07 -1.4275508e-07 -5.7713122e-07 1.7696419e-07 1.6692426e-06 -1.615208e-06  -0.56449242      10.8619    16.292849    21.723799    3844.4888 
      34            0    -832.6272 -1.8096998e-07 -1.4274179e-07 -5.7713419e-07 1.7696606e-07 -1.3208059e-06 1.2676991e-06  -0.56449411      10.8619    16.292849    21.723799    3844.4888 
      35            0    -832.6272 -1.809489e-07 -1.4272917e-07 -5.7710273e-07 1.769852e-07 1.2920243e-06 -1.2326432e-06  -0.56449265      10.8619    16.292849    21.723799    3844.4888 
      36            0    -832.6272 -1.8094894e-07 -1.4272405e-07 -5.7711241e-07 1.7698965e-07 -1.2813275e-06 1.2190118e-06  -0.56449408      10.8619    16.292849    21.723799    3844.4888 
      37            0    -832.6272 -1.8098757e-07 -1.4276484e-07 -5.7714491e-07 1.7694705e-07 1.1495705e-06 -1.0922509e-06  -0.56449273      10.8619    16.292849    21.723799    3844.4888 
      38            0    -832.6272 -1.8095718e-07 -1.4273347e-07 -5.7711607e-07 1.7697799e-07 -1.0385213e-06 9.8589413e-07  -0.56449394      10.8619    16.292849    21.723799    3844.4888 
      39            0    -832.6272 -1.809623e-07 -1.4274027e-07 -5.7711597e-07 1.7696933e-07 1.2924334e-06 -1.2264208e-06  -0.56449265      10.8619    16.292849    21.723799    3844.4888 
      40            0    -832.6272 -1.8096768e-07 -1.4274975e-07 -5.7712313e-07 1.7696983e-07 -1.0625599e-06 1.0081205e-06  -0.56449396      10.8619    16.292849    21.723799    3844.4888 
      41            0    -832.6272 -1.8096301e-07 -1.427402e-07 -5.7711912e-07 1.769703e-07 9.5126461e-07 -9.0242577e-07  -0.56449284      10.8619    16.292849    21.723799    3844.4888 
      42            0    -832.6272 -1.8098972e-07 -1.4276588e-07 -5.7714829e-07  1.76945e-07 -1.5818928e-06 1.5005572e-06  -0.56449425      10.8619    16.292849    21.723799    3844.4888 
      43            0    -832.6272 -1.8097993e-07 -1.4275595e-07 -5.7714311e-07 1.7695928e-07 9.8737274e-07 -9.3650685e-07  -0.56449282      10.8619    16.292849    21.723799    3844.4888 
      44            0    -832.6272 -1.8097029e-07 -1.4275026e-07 -5.7712661e-07 1.7696601e-07 -1.1977101e-06 1.135874e-06  -0.56449403      10.8619    16.292849    21.723799    3844.4888 
      45            0    -832.6272 -1.8096718e-07 -1.427443e-07 -5.7712101e-07 1.7696377e-07 9.6243235e-07 -9.1265321e-07  -0.56449283      10.8619    16.292849    21.723799    3844.4888 
      46            0    -832.6272 -1.8094655e-07 -1.4272674e-07 -5.7710075e-07 1.7698783e-07 -6.3456647e-07 6.0171111e-07  -0.56449372      10.8619    16.292849    21.723799    3844.4888 
      47            0    -832.6272 -1.8097649e-07 -1.42755e-07 -5.7713307e-07 1.7695862e-07 2.9740766e-07 -2.8194602e-07   -0.5644932      10.8619    16.292849    21.723799    3844.4888 
      48            0    -832.6272 -1.8096479e-07 -1.4274538e-07 -5.7712174e-07 1.7697274e-07 -1.6514812e-07 1.5628198e-07  -0.56449346      10.8619    16.292849    21.723799    3844.4888 
      49            0    -832.6272 -1.8096613e-07 -1.427437e-07 -5.7712344e-07 1.7696876e-07 6.2804955e-08 -5.9071469e-08  -0.56449333      10.8619    16.292849    21.723799    3844.4888 
      50            0    -832.6272 -1.8096726e-07 -1.427497e-07 -5.7712609e-07 1.7697401e-07 -2.8857658e-08 2.6791443e-08  -0.56449338      10.8619    16.292849    21.723799    3844.4888 
      51            0    -832.6272 -1.8095857e-07 -1.4273427e-07 -5.7711798e-07 1.7697654e-07 1.9831225e-08 -1.7891722e-08  -0.56449336      10.8619    16.292849    21.723799    3844.4888 
      52            0    -832.6272 -1.8099806e-07 -1.4276709e-07 -5.7716817e-07 1.769411e-07 -6.4495923e-09 5.5232613e-09  -0.56449337      10.8619    16.292849    21.723799    3844.4888 
      53            0    -832.6272 -1.8096963e-07 -1.4274908e-07 -5.7713136e-07 1.7697156e-07 3.1715946e-09 -2.4252964e-09  -0.56449337      10.8619    16.292849    21.723799    3844.4888 
Loop time of 0.00866718 on 8 procs for 49 steps with 192 atoms

99.9% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199815     -832.627199983     -832.627199983
  Force two-norm initial, final = 0.00295543 7.32959e-11
  Force max component initial, final = 0.000321141 8.86053e-12
  Final line search alpha, max atom move = 1 8.86053e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0024735  | 0.0029511  | 0.0032397  |   0.4 | 34.05
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0020301  | 0.0022162  | 0.0025749  |   0.3 | 25.57
Output  | 0.0013989  | 0.0014689  | 0.0016776  |   0.2 | 16.95
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002031   |            |       | 23.43

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.627199983438
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.80969627989266e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.42749082136082e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -5.77131358571206e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.76971556739492e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 3.17159459360852e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -2.42529638578932e-09
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -0.564493365920801

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 1.42740585674332e-05
variable C2pos equal ${d2}
variable C2pos equal 5.77057563948529e-05
variable C3pos equal ${d3}
variable C3pos equal -1.76969807163537e-05
variable C4pos equal ${d4}
variable C4pos equal 56.4493365722698
variable C5pos equal ${d5}
variable C5pos equal 2.50812710091416e-07
variable C6pos equal ${d6}
variable C6pos equal -2.58290174590942e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(-1.42749424112134e-05+${C1pos})
variable C14 equal 0.5*(-1.42749424112134e-05+1.42740585674332e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(-5.77058766247907e-05+${C2pos})
variable C24 equal 0.5*(-5.77058766247907e-05+5.77057563948529e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(1.76958526922419e-05+${C3pos})
variable C34 equal 0.5*(1.76958526922419e-05+-1.76969807163537e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(56.4493368866345+${C4pos})
variable C44 equal 0.5*(56.4493368866345+56.4493365722698)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(-6.30659559204646e-08+${C5pos})
variable C54 equal 0.5*(-6.30659559204646e-08+2.50812710091416e-07)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(1.3545132391435e-07+${C6pos})
variable C64 equal 0.5*(1.3545132391435e-07+-2.58290174590942e-07)

# Delete dir to make sure it is not reused

variable dir delete

# uxz Perturbation

variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 21.7237991136209
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*21.7237991136209
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -2.17237991136209e-05 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 -2.17238e-05 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272 6.3150458e-05 6.5632534e-05 6.1755516e-05 6.2063323e-05    1.0338579    1.2958698   0.36391821      10.8619    16.292849    21.723799    3844.4888 
       5            0    -832.6272 1.2029114e-06 5.1669738e-07 1.7147788e-06 1.3772579e-06  -0.26262774   0.37870021 -0.092449153      10.8619    16.292849    21.723799    3844.4888 
       6            0    -832.6272 -1.9999006e-07 -1.3016232e-06 3.1758212e-07 3.840709e-07   0.24876901   0.74048297  0.087569833      10.8619    16.292849    21.723799    3844.4888 
       7            0    -832.6272 -3.3376804e-07 -5.300038e-07 -2.7023266e-07 -2.0106767e-07  -0.20449012   0.41982845 -0.071983523      10.8619    16.292849    21.723799    3844.4888 
       8            0    -832.6272 -1.6135699e-07 -6.7945818e-07 6.5769479e-10 1.947295e-07   0.10785768   0.64079665  0.037967125      10.8619    16.292849    21.723799    3844.4888 
       9            0    -832.6272 -2.3787948e-07 -5.9054558e-07 -2.2606648e-07 1.0297364e-07 -0.056781137   0.52432376 -0.019987439      10.8619    16.292849    21.723799    3844.4888 
      10            0    -832.6272 -1.93729e-07 -6.2804444e-07 -1.2569444e-07 1.7255187e-07  0.027339564    0.5838347 0.0096235255      10.8619    16.292849    21.723799    3844.4888 
      11            0    -832.6272 -1.9596806e-07 -5.8497076e-07 -1.6956031e-07 1.666269e-07  -0.01661118   0.55274168 -0.0058469081      10.8619    16.292849    21.723799    3844.4888 
      12            0    -832.6272 -1.8603977e-07 -5.9605109e-07 -1.4290205e-07 1.8083383e-07 0.0087645174   0.57069394 0.0030848122      10.8619    16.292849    21.723799    3844.4888 
      13            0    -832.6272 -1.8924084e-07 -5.8815754e-07 -1.550238e-07 1.7545882e-07 -0.0044419423   0.56135078 -0.0015632682      10.8619    16.292849    21.723799    3844.4888 
      14            0    -832.6272 -1.852012e-07 -5.8771254e-07 -1.4744138e-07 1.7955031e-07 0.0028396213    0.5665024 0.00099918549      10.8619    16.292849    21.723799    3844.4888 
      15            0    -832.6272 -1.8497829e-07 -5.8370452e-07 -1.4941157e-07 1.7818121e-07 -0.0014114613   0.56349468 -0.00049647675      10.8619    16.292849    21.723799    3844.4888 
      16            0    -832.6272 -1.834371e-07 -5.8249798e-07 -1.4651145e-07 1.7869812e-07 0.00088001214   0.56511612 0.00030928205      10.8619    16.292849    21.723799    3844.4888 
      17            0    -832.6272 -1.8262504e-07 -5.8024196e-07 -1.4579678e-07 1.7816362e-07 -0.00060833623   0.56406276 -0.00021353387      10.8619    16.292849    21.723799    3844.4888 
      18            0    -832.6272 -1.8156488e-07 -5.7870641e-07 -1.4390446e-07 1.7791623e-07 0.00042092783   0.56479148 0.00014735563      10.8619    16.292849    21.723799    3844.4888 
      19            0    -832.6272 -1.8143055e-07 -5.7786667e-07 -1.4372597e-07 1.7730099e-07 -0.00025425586   0.56431319 -8.8726374e-05      10.8619    16.292849    21.723799    3844.4888 
      20            0    -832.6272 -1.8112633e-07 -5.7744836e-07 -1.4303953e-07 1.771089e-07 0.00013033457   0.56458586 4.5148931e-05      10.8619    16.292849    21.723799    3844.4888 
      21            0    -832.6272 -1.8112385e-07 -5.7724525e-07 -1.4303691e-07 1.769106e-07 -6.7711085e-05   0.56444516 -2.3077841e-05      10.8619    16.292849    21.723799    3844.4888 
      22            0    -832.6272 -1.8106846e-07 -5.7716076e-07 -1.4291548e-07 1.7687087e-07 3.1809075e-05   0.56451616 1.0480829e-05      10.8619    16.292849    21.723799    3844.4888 
      23            0    -832.6272 -1.8105224e-07 -5.7708123e-07 -1.4292914e-07 1.7685367e-07 -1.3001314e-05   0.56448384 -3.7446159e-06      10.8619    16.292849    21.723799    3844.4888 
      24            0    -832.6272 -1.810063e-07 -5.7703952e-07 -1.4288485e-07 1.7690547e-07 6.5061545e-06    0.5644985 9.5898569e-07      10.8619    16.292849    21.723799    3844.4888 
      25            0    -832.6272 -1.810163e-07 -5.7704918e-07 -1.4290099e-07 1.7690126e-07 -1.0372877e-06   0.56449219 7.3498927e-07      10.8619    16.292849    21.723799    3844.4888 
      26            0    -832.6272 -1.8101967e-07 -5.7704822e-07 -1.4291591e-07 1.7690513e-07 -1.8289063e-06   0.56449293 -2.7788548e-06      10.8619    16.292849    21.723799    3844.4888 
      27            0    -832.6272 -1.8100077e-07 -5.7704287e-07 -1.4289267e-07 1.7693322e-07 3.3781764e-06   0.56449478 3.6200396e-06      10.8619    16.292849    21.723799    3844.4888 
      28            0    -832.6272 -1.8101409e-07 -5.770494e-07 -1.4291442e-07 1.7692155e-07 -3.3254739e-06   0.56449185 -3.2492021e-06      10.8619    16.292849    21.723799    3844.4888 
      29            0    -832.6272 -1.8097137e-07 -5.7701079e-07 -1.4287022e-07 1.7696691e-07 4.7119042e-06   0.56449561 4.3717208e-06      10.8619    16.292849    21.723799    3844.4888 
      30            0    -832.6272 -1.8093482e-07 -5.7697289e-07 -1.4282528e-07 1.7699373e-07 -4.089331e-06   0.56449139 -3.7190065e-06      10.8619    16.292849    21.723799    3844.4888 
      31            0    -832.6272 -1.809818e-07 -5.770219e-07 -1.4288503e-07 1.7696153e-07 4.5608067e-06   0.56449559 4.109961e-06      10.8619    16.292849    21.723799    3844.4888 
      32            0    -832.6272 -1.80971e-07 -5.7700677e-07 -1.4287756e-07 1.7697134e-07 -4.7319403e-06   0.56449106 -4.2454083e-06      10.8619    16.292849    21.723799    3844.4888 
      33            0    -832.6272 -1.8097746e-07 -5.7701786e-07 -1.4287952e-07 1.7696501e-07 4.9063931e-06   0.56449577 4.3942581e-06      10.8619    16.292849    21.723799    3844.4888 
      34            0    -832.6272 -1.8099058e-07 -5.770291e-07 -1.4289104e-07 1.7694841e-07 -3.8577245e-06   0.56449148 -3.4517481e-06      10.8619    16.292849    21.723799    3844.4888 
      35            0    -832.6272 -1.8098898e-07 -5.7702244e-07 -1.4289899e-07 1.769545e-07 3.7538257e-06   0.56449521 3.3562473e-06      10.8619    16.292849    21.723799    3844.4888 
      36            0    -832.6272 -1.8096177e-07 -5.7699638e-07 -1.4286204e-07 1.7697311e-07 -3.7048571e-06   0.56449155 -3.3113384e-06      10.8619    16.292849    21.723799    3844.4888 
      37            0    -832.6272 -1.8099015e-07 -5.7702801e-07 -1.4288885e-07 1.7694641e-07 3.2980486e-06   0.56449498 2.9473276e-06      10.8619    16.292849    21.723799    3844.4888 
      38            0    -832.6272 -1.8097302e-07 -5.7700371e-07 -1.4287173e-07 1.7695638e-07 -2.9418142e-06   0.56449193 -2.6287374e-06      10.8619    16.292849    21.723799    3844.4888 
      39            0    -832.6272 -1.8096311e-07 -5.7700845e-07 -1.4285789e-07 1.7697702e-07 3.5431479e-06    0.5644951 3.1658964e-06      10.8619    16.292849    21.723799    3844.4888 
      40            0    -832.6272 -1.8098838e-07 -5.7702339e-07 -1.4288916e-07 1.769474e-07 -2.7258669e-06   0.56449203 -2.435618e-06      10.8619    16.292849    21.723799    3844.4888 
      41            0    -832.6272 -1.8097114e-07 -5.7701247e-07 -1.4287235e-07 1.7697142e-07 2.1770648e-06   0.56449443 1.945201e-06      10.8619    16.292849    21.723799    3844.4888 
      42            0    -832.6272 -1.8098105e-07 -5.7701638e-07 -1.4288221e-07 1.7695545e-07 -2.827573e-06   0.56449198 -2.5263753e-06      10.8619    16.292849    21.723799    3844.4888 
      43            0    -832.6272 -1.8096803e-07 -5.7700402e-07 -1.428668e-07 1.7696674e-07 1.3136705e-06   0.56449401 1.1736417e-06      10.8619    16.292849    21.723799    3844.4888 
      44            0    -832.6272 -1.8098647e-07 -5.7701854e-07 -1.4289229e-07 1.7695142e-07 -1.0844845e-06   0.56449284 -9.687872e-07      10.8619    16.292849    21.723799    3844.4888 
      45            0    -832.6272 -1.8096053e-07 -5.7699046e-07 -1.4286773e-07 1.7697659e-07 6.0241771e-07   0.56449366 5.3809751e-07      10.8619    16.292849    21.723799    3844.4888 
      46            0    -832.6272 -1.8097141e-07 -5.7699935e-07 -1.4287625e-07 1.7696137e-07 -3.0736741e-07   0.56449322 -2.7450342e-07      10.8619    16.292849    21.723799    3844.4888 
      47            0    -832.6272 -1.8100731e-07 -5.7704904e-07 -1.4290997e-07 1.7693707e-07 1.2154548e-07   0.56449343 1.0854003e-07      10.8619    16.292849    21.723799    3844.4888 
      48            0    -832.6272 -1.8096703e-07 -5.7700462e-07 -1.4286744e-07 1.7697097e-07 -6.4135962e-08   0.56449334 -5.7282803e-08      10.8619    16.292849    21.723799    3844.4888 
      49            0    -832.6272 -1.8100437e-07 -5.770381e-07 -1.4290405e-07 1.7692904e-07 2.3728331e-08   0.56449338 2.1163401e-08      10.8619    16.292849    21.723799    3844.4888 
      50            0    -832.6272 -1.8097854e-07 -5.7701653e-07 -1.4287732e-07 1.7695823e-07 -1.0765754e-08   0.56449336 -9.5136129e-09      10.8619    16.292849    21.723799    3844.4888 
      51            0    -832.6272 -1.8096388e-07 -5.7700375e-07 -1.4286086e-07 1.7697297e-07 7.3854753e-09   0.56449337 6.3522731e-09      10.8619    16.292849    21.723799    3844.4888 
      52            0    -832.6272 -1.8098497e-07 -5.7702253e-07 -1.4288404e-07 1.7695166e-07 -2.3909339e-09   0.56449337 -1.9193107e-09      10.8619    16.292849    21.723799    3844.4888 
      53            0    -832.6272 -1.8098192e-07 -5.7702033e-07 -1.4287801e-07 1.7695257e-07 1.2954994e-09   0.56449337 7.7735796e-10      10.8619    16.292849    21.723799    3844.4888 
Loop time of 0.00856659 on 8 procs for 49 steps with 192 atoms

94.8% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199814     -832.627199983     -832.627199983
  Force two-norm initial, final = 0.00297207 7.32796e-11
  Force max component initial, final = 0.000321141 8.89134e-12
  Final line search alpha, max atom move = 1 8.89134e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0025872  | 0.0029061  | 0.0032463  |   0.3 | 33.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019705  | 0.0021926  | 0.0024923  |   0.4 | 25.59
Output  | 0.0014441  | 0.0015055  | 0.001698   |   0.2 | 17.57
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001962   |            |       | 22.91

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -5.77020325324533e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.42878012562903e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.76952566491621e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.29549939316437e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 0.564493367698473
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 7.77357957638425e-10

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -5.77011828862783e-05
variable C2neg equal ${d2}
variable C2neg equal -1.42804217940226e-05
variable C3neg equal ${d3}
variable C3neg equal 1.76950816915666e-05
variable C4neg equal ${d4}
variable C4neg equal 9.75461148727221e-08
variable C5neg equal ${d5}
variable C5neg equal 56.4493367615642
variable C6neg equal ${d6}
variable C6neg equal 7.06806545465267e-08

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*21.7237991136209
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 2.17237991136209e-05 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 2.17238e-05 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272 6.2547086e-05 6.5408865e-05 6.1185987e-05 6.1046407e-05    1.0338575  -0.89925989   0.36391511      10.8619    16.292849    21.723799    3844.4888 
       5            0    -832.6272 1.2436782e-06 3.932561e-07 1.886081e-06 1.4516976e-06   -0.2652444  -0.47860325 -0.093366741      10.8619    16.292849    21.723799    3844.4888 
       6            0    -832.6272 -2.5756339e-07 -1.2279636e-06 1.8843934e-07 2.6683411e-07   0.25652784  -0.64756084  0.090297348      10.8619    16.292849    21.723799    3844.4888 
       7            0    -832.6272 -2.8974364e-07 -5.9263423e-07 -1.3422359e-07 -1.4237308e-07  -0.22233913  -0.49249627 -0.078263201      10.8619    16.292849    21.723799    3844.4888 
       8            0    -832.6272 -1.8187103e-07 -6.4953164e-07 -5.0166589e-08 1.5408515e-07   0.12449749  -0.60480784  0.043822977      10.8619    16.292849    21.723799    3844.4888 
       9            0    -832.6272 -2.2774563e-07 -6.0590315e-07 -1.9647447e-07 1.1914073e-07 -0.068992779  -0.54215223 -0.024285456      10.8619    16.292849    21.723799    3844.4888 
      10            0    -832.6272 -1.9832363e-07 -6.2073904e-07 -1.3787633e-07 1.6364447e-07  0.034356691  -0.57561879  0.012093588      10.8619    16.292849    21.723799    3844.4888 
      11            0    -832.6272 -1.9311101e-07 -5.8916733e-07 -1.6175941e-07 1.7159371e-07 -0.021256253  -0.55761009 -0.0074823092      10.8619    16.292849    21.723799    3844.4888 
      12            0    -832.6272 -1.8750292e-07 -5.9381694e-07 -1.467821e-07 1.7809028e-07  0.011378152  -0.56817794 0.0040052276      10.8619    16.292849    21.723799    3844.4888 
      13            0    -832.6272 -1.8852999e-07 -5.8929275e-07 -1.5306464e-07 1.7676742e-07 -0.0058175231  -0.56260945 -0.002047896      10.8619    16.292849    21.723799    3844.4888 
      14            0    -832.6272 -1.8566952e-07 -5.8698839e-07 -1.4870325e-07 1.7868309e-07 0.0037365764  -0.56570346 0.0013154311      10.8619    16.292849    21.723799    3844.4888 
      15            0    -832.6272 -1.8477113e-07 -5.8407759e-07 -1.4881189e-07 1.7857609e-07 -0.0018619646  -0.56389032 -0.00065557263      10.8619    16.292849    21.723799    3844.4888 
      16            0    -832.6272 -1.8357804e-07 -5.8227292e-07 -1.4690402e-07 1.7844281e-07 0.0011623626   -0.5648699 0.00040936935      10.8619    16.292849    21.723799    3844.4888 
      17            0    -832.6272 -1.8252415e-07 -5.803907e-07 -1.455241e-07 1.7834234e-07 -0.00080437985  -0.56423272 -0.00028341633      10.8619    16.292849    21.723799    3844.4888 
      18            0    -832.6272 -1.8167564e-07 -5.7863462e-07 -1.4413661e-07 1.7774432e-07 0.00055725885  -0.56467405 0.00019652628      10.8619    16.292849    21.723799    3844.4888 
      19            0    -832.6272 -1.8140532e-07 -5.7794354e-07 -1.4363225e-07 1.7735983e-07 -0.00033705962    -0.564384 -0.00011899942      10.8619    16.292849    21.723799    3844.4888 
      20            0    -832.6272 -1.8115416e-07 -5.7742157e-07 -1.4310038e-07 1.7705948e-07 0.0001732355  -0.56454967 6.1313324e-05      10.8619    16.292849    21.723799    3844.4888 
      21            0    -832.6272 -1.8108415e-07 -5.7723816e-07 -1.4297081e-07 1.7695652e-07 -9.0496793e-05  -0.56446385 -3.2202176e-05      10.8619    16.292849    21.723799    3844.4888 
      22            0    -832.6272 -1.8109145e-07 -5.7716312e-07 -1.4295673e-07 1.7684549e-07 4.2984304e-05  -0.56450749 1.545932e-05      10.8619    16.292849    21.723799    3844.4888 
      23            0    -832.6272 -1.8102182e-07 -5.7706113e-07 -1.4289127e-07 1.7688696e-07 -1.8272048e-05  -0.56448721 -6.8140088e-06      10.8619    16.292849    21.723799    3844.4888 
      24            0    -832.6272 -1.809832e-07 -5.7702074e-07 -1.4286257e-07 1.7693372e-07 1.0336518e-05  -0.56449709 4.2502772e-06      10.8619    16.292849    21.723799    3844.4888 
      25            0    -832.6272 -1.8099182e-07 -5.7702793e-07 -1.4286954e-07 1.7692201e-07 -2.8055828e-06  -0.56449215 -1.4931883e-06      10.8619    16.292849    21.723799    3844.4888 
      26            0    -832.6272 -1.8093252e-07 -5.769769e-07 -1.4281944e-07 1.7699877e-07 3.659845e-07  -0.56449409 1.1100852e-06      10.8619    16.292849    21.723799    3844.4888 
      27            0    -832.6272 -1.8095405e-07 -5.7699488e-07 -1.4284488e-07 1.769776e-07 1.2962268e-06   -0.5644931 -6.6084957e-07      10.8619    16.292849    21.723799    3844.4888 
      28            0    -832.6272 -1.8097551e-07 -5.7701512e-07 -1.4286434e-07 1.7695294e-07 -1.6854598e-06  -0.56449341 3.6195013e-07      10.8619    16.292849    21.723799    3844.4888 
      29            0    -832.6272 -1.8096181e-07 -5.7700052e-07 -1.4286007e-07 1.7697517e-07 2.6903526e-06  -0.56449347 -2.9988989e-07      10.8619    16.292849    21.723799    3844.4888 
      30            0    -832.6272 -1.8097716e-07 -5.7701507e-07 -1.428717e-07 1.769553e-07 -2.4326659e-06  -0.56449323 1.9139739e-07      10.8619    16.292849    21.723799    3844.4888 
      31            0    -832.6272 -1.8096086e-07 -5.7699403e-07 -1.4286048e-07 1.7697191e-07 2.7626247e-06  -0.56449355 -1.7879298e-07      10.8619    16.292849    21.723799    3844.4888 
      32            0    -832.6272 -1.8100311e-07 -5.7703748e-07 -1.4290996e-07 1.769381e-07 -2.8913907e-06  -0.56449316 1.683321e-07      10.8619    16.292849    21.723799    3844.4888 
      33            0    -832.6272 -1.809803e-07 -5.7701876e-07 -1.4288188e-07 1.7695974e-07 3.0097393e-06  -0.56449359 -1.675999e-07      10.8619    16.292849    21.723799    3844.4888 
      34            0    -832.6272 -1.8096984e-07 -5.7700912e-07 -1.4286369e-07 1.7696328e-07 -2.3731238e-06  -0.56449319 1.2898074e-07      10.8619    16.292849    21.723799    3844.4888 
      35            0    -832.6272 -1.8096087e-07 -5.7700212e-07 -1.4285687e-07 1.7697637e-07 2.315368e-06  -0.56449354 -1.2355059e-07      10.8619    16.292849    21.723799    3844.4888 
      36            0    -832.6272 -1.8098084e-07 -5.7702184e-07 -1.4288456e-07 1.7696387e-07 -2.2932978e-06   -0.5644932 1.2128968e-07      10.8619    16.292849    21.723799    3844.4888 
      37            0    -832.6272 -1.8096422e-07 -5.7700341e-07 -1.4286399e-07 1.7697475e-07  2.05553e-06  -0.56449352 -1.0829727e-07      10.8619    16.292849    21.723799    3844.4888 
      38            0    -832.6272 -1.8100186e-07 -5.7703738e-07 -1.4290457e-07 1.7693637e-07 -1.8547113e-06  -0.56449323 9.7563353e-08      10.8619    16.292849    21.723799    3844.4888 
      39            0    -832.6272 -1.8098646e-07 -5.7702955e-07 -1.4289578e-07 1.7696596e-07 2.3023108e-06  -0.56449354 -1.2105381e-07      10.8619    16.292849    21.723799    3844.4888 
      40            0    -832.6272 -1.8094411e-07 -5.769828e-07 -1.4284552e-07 1.7699599e-07 -1.883357e-06  -0.56449323 9.903371e-08      10.8619    16.292849    21.723799    3844.4888 
      41            0    -832.6272 -1.8096197e-07 -5.7699724e-07 -1.4286173e-07 1.7697305e-07 1.6703823e-06  -0.56449349 -8.7877337e-08      10.8619    16.292849    21.723799    3844.4888 
      42            0    -832.6272 -1.8096306e-07 -5.7699913e-07 -1.4286706e-07 1.7697702e-07 -2.7131787e-06  -0.56449317 1.4273685e-07      10.8619    16.292849    21.723799    3844.4888 
      43            0    -832.6272 -1.8098848e-07 -5.7702727e-07 -1.4288705e-07 1.7694887e-07 1.6339538e-06  -0.56449349 -8.5932952e-08      10.8619    16.292849    21.723799    3844.4888 
      44            0    -832.6272 -1.8098089e-07 -5.770189e-07 -1.4287861e-07 1.7695485e-07 -1.862348e-06  -0.56449323 9.7937742e-08      10.8619    16.292849    21.723799    3844.4888 
      45            0    -832.6272 -1.8096242e-07 -5.7700077e-07 -1.4286069e-07 1.7697419e-07 1.380311e-06  -0.56449347 -7.2605279e-08      10.8619    16.292849    21.723799    3844.4888 
      46            0    -832.6272 -1.8099252e-07 -5.7702892e-07 -1.4288906e-07 1.7694043e-07 -8.4783997e-07   -0.5644933 4.4602234e-08      10.8619    16.292849    21.723799    3844.4888 
      47            0    -832.6272 -1.8096106e-07 -5.7699753e-07 -1.4286172e-07 1.7697607e-07 3.761917e-07   -0.5644934 -1.9816683e-08      10.8619    16.292849    21.723799    3844.4888 
      48            0    -832.6272 -1.8097222e-07 -5.7700669e-07 -1.4287565e-07 1.7696568e-07 -2.0520866e-07  -0.56449335 1.0877598e-08      10.8619    16.292849    21.723799    3844.4888 
      49            0    -832.6272 -1.8096681e-07 -5.7700048e-07 -1.4287059e-07 1.7697064e-07 7.7264988e-08  -0.56449337 -4.1478671e-09      10.8619    16.292849    21.723799    3844.4888 
      50            0    -832.6272 -1.8097155e-07 -5.7701035e-07 -1.4287805e-07 1.7697376e-07 -3.541073e-08  -0.56449336 1.9196513e-09      10.8619    16.292849    21.723799    3844.4888 
      51            0    -832.6272 -1.809421e-07 -5.7697815e-07 -1.4284055e-07 1.7699239e-07 2.4462353e-08  -0.56449337 -1.3000448e-09      10.8619    16.292849    21.723799    3844.4888 
      52            0    -832.6272 -1.8098666e-07 -5.7702363e-07 -1.4288928e-07 1.7695292e-07 -8.1427682e-09  -0.56449337 4.1032619e-10      10.8619    16.292849    21.723799    3844.4888 
      53            0    -832.6272 -1.8099896e-07 -5.7703839e-07 -1.4290144e-07 1.7694296e-07 4.157054e-09  -0.56449337 -1.215965e-10      10.8619    16.292849    21.723799    3844.4888 
Loop time of 0.00867966 on 8 procs for 49 steps with 192 atoms

99.0% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199815     -832.627199983     -832.627199983
  Force two-norm initial, final = 0.00296034 7.32759e-11
  Force max component initial, final = 0.000321141 8.88821e-12
  Final line search alpha, max atom move = 1 8.88821e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0026236  | 0.0029878  | 0.0033392  |   0.4 | 34.42
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019715  | 0.0022052  | 0.0025328  |   0.4 | 25.41
Output  | 0.0013924  | 0.00148    | 0.001721   |   0.2 | 17.05
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002007   |            |       | 23.12

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.627199983438
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.80998957126183e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -5.77038388763844e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.42901442837486e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.76942960222782e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 4.15705396961149e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -0.564493367776188
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.21596495503531e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 5.77029892302094e-05
variable C2pos equal ${d2}
variable C2pos equal 1.42827648214809e-05
variable C3pos equal ${d3}
variable C3pos equal -1.76941210646827e-05
variable C4pos equal ${d4}
variable C4pos equal -7.6506695585265e-09
variable C5pos equal ${d5}
variable C5pos equal 56.4493367859019
variable C6pos equal ${d6}
variable C6pos equal -3.56836112191239e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(-5.77011828862783e-05+${C1pos})
variable C15 equal 0.5*(-5.77011828862783e-05+5.77029892302094e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(-1.42804217940226e-05+${C2pos})
variable C25 equal 0.5*(-1.42804217940226e-05+1.42827648214809e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(1.76950816915666e-05+${C3pos})
variable C35 equal 0.5*(1.76950816915666e-05+-1.76941210646827e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(9.75461148727221e-08+${C4pos})
variable C45 equal 0.5*(9.75461148727221e-08+-7.6506695585265e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(56.4493367615642+${C5pos})
variable C55 equal 0.5*(56.4493367615642+56.4493367859019)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(7.06806545465267e-08+${C6pos})
variable C65 equal 0.5*(7.06806545465267e-08+-3.56836112191239e-07)

# Delete dir to make sure it is not reused

variable dir delete

# uxy Perturbation

variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 16.2928493352156

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*16.2928493352156
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -1.62928493352156e-05 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (-1.62928e-05 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272 6.4421662e-05 6.6103865e-05 6.4610661e-05 6.2550458e-05    2.1314225   0.19830512   0.36391696      10.8619    16.292849    21.723799    3844.4888 
       5            0    -832.6272 1.1197542e-06 7.6830137e-07 2.0089416e-06 5.820196e-07   0.17456624 -0.049348587 -0.090562219      10.8619    16.292849    21.723799    3844.4888 
       6            0    -832.6272 -8.9487852e-08 -1.4451275e-06 8.2292888e-07 3.5373511e-07   0.91895907  0.044861063   0.08232518      10.8619    16.292849    21.723799    3844.4888 
       7            0    -832.6272 -4.0706545e-07 -4.2924721e-07 2.1544623e-08 -8.1349376e-07   0.29939563 -0.033550518 -0.061569595      10.8619    16.292849    21.723799    3844.4888 
       8            0    -832.6272 -1.3214604e-07 -7.2289859e-07 3.4683302e-07 -2.0372551e-08   0.69205848  0.016144484  0.029627037      10.8619    16.292849    21.723799    3844.4888 
       9            0    -832.6272 -2.5066081e-07 -5.71337e-07 9.1526958e-08 -2.721724e-07   0.50180488 -0.0079337161 -0.014559311      10.8619    16.292849    21.723799    3844.4888 
      10            0    -832.6272 -1.8843426e-07 -6.367409e-07 1.949021e-07 -1.2346398e-07   0.59346719 0.0036667585 0.0067289665      10.8619    16.292849    21.723799    3844.4888 
      11            0    -832.6272 -1.9915323e-07 -5.8023082e-07 1.5026613e-07 -1.67495e-07   0.54725146 -0.0021819642 -0.0040041634      10.8619    16.292849    21.723799    3844.4888 
      12            0    -832.6272 -1.8447415e-07 -5.9853685e-07 1.7669878e-07 -1.3158438e-07   0.57344661 0.0011329493 0.0020791354      10.8619    16.292849    21.723799    3844.4888 
      13            0    -832.6272 -1.9003257e-07 -5.8695143e-07 1.6479449e-07 -1.4794077e-07   0.55999855 -0.00056872178 -0.0010437029      10.8619    16.292849    21.723799    3844.4888 
      14            0    -832.6272 -1.8471602e-07 -5.8849526e-07 1.7218657e-07 -1.3783936e-07   0.56735267 0.0003616994 0.00066382582      10.8619    16.292849    21.723799    3844.4888 
      15            0    -832.6272 -1.8527704e-07 -5.8336943e-07 1.7028033e-07 -1.42742e-07   0.56307555 -0.00017927538 -0.00032905499      10.8619    16.292849    21.723799    3844.4888 
      16            0    -832.6272 -1.8327639e-07 -5.8272901e-07 1.7318241e-07 -1.4028258e-07   0.56537667 0.00011157112 0.00020484046      10.8619    16.292849    21.723799    3844.4888 
      17            0    -832.6272 -1.8275369e-07 -5.8009876e-07 1.7391288e-07 -1.4207518e-07   0.56388292 -7.6984933e-05 -0.00014139772      10.8619    16.292849    21.723799    3844.4888 
      18            0    -832.6272 -1.815192e-07 -5.7883958e-07 1.757632e-07 -1.4148122e-07   0.56491598 5.3118525e-05 9.764373e-05      10.8619    16.292849    21.723799    3844.4888 
      19            0    -832.6272 -1.8149088e-07 -5.7781358e-07 1.7597406e-07 -1.4263313e-07   0.56423791 -3.1981047e-05 -5.8847335e-05      10.8619    16.292849    21.723799    3844.4888 
      20            0    -832.6272 -1.8113823e-07 -5.7752175e-07 1.7664387e-07 -1.4253682e-07    0.5646246 1.6279427e-05 3.0023933e-05      10.8619    16.292849    21.723799    3844.4888 
      21            0    -832.6272 -1.8109034e-07 -5.7718286e-07 1.7673352e-07 -1.4282167e-07   0.56442486 -8.3298722e-06 -1.5440709e-05      10.8619    16.292849    21.723799    3844.4888 
      22            0    -832.6272 -1.8110539e-07 -5.7721158e-07 1.767555e-07 -1.4286011e-07   0.56452588 3.7915286e-06 7.1042498e-06      10.8619    16.292849    21.723799    3844.4888 
      23            0    -832.6272 -1.8103256e-07 -5.7705986e-07 1.7680976e-07 -1.4284757e-07    0.5644796 -1.3683678e-06 -2.6806431e-06      10.8619    16.292849    21.723799    3844.4888 
      24            0    -832.6272 -1.8106748e-07 -5.7710555e-07  1.76767e-07 -1.4286388e-07   0.56450108 3.7681161e-07 9.6298243e-07      10.8619    16.292849    21.723799    3844.4888 
      25            0    -832.6272 -1.8102464e-07 -5.7705248e-07 1.768087e-07 -1.4283013e-07   0.56449134 2.3867996e-07 2.1380749e-07      10.8619    16.292849    21.723799    3844.4888 
      26            0    -832.6272 -1.8097755e-07 -5.770105e-07 1.7684719e-07 -1.4276935e-07   0.56449345 -9.5034955e-07 -1.3088476e-06      10.8619    16.292849    21.723799    3844.4888 
      27            0    -832.6272 -1.8099386e-07 -5.7703632e-07 1.7683203e-07 -1.4277729e-07   0.56449457 1.2462508e-06 1.791746e-06      10.8619    16.292849    21.723799    3844.4888 
      28            0    -832.6272 -1.8098725e-07 -5.7702606e-07 1.7683751e-07 -1.4277319e-07    0.5644919 -1.1209885e-06 -1.6337896e-06      10.8619    16.292849    21.723799    3844.4888 
      29            0    -832.6272 -1.809769e-07 -5.7701931e-07 1.7684126e-07 -1.4275265e-07   0.56449565 1.5101788e-06 2.2190305e-06      10.8619    16.292849    21.723799    3844.4888 
      30            0    -832.6272 -1.8098929e-07 -5.7702048e-07 1.7682682e-07 -1.4277422e-07   0.56449132 -1.2853663e-06 -1.8948799e-06      10.8619    16.292849    21.723799    3844.4888 
      31            0    -832.6272 -1.8095328e-07 -5.7699678e-07 1.7687111e-07 -1.4273416e-07   0.56449569 1.4208767e-06 2.0979297e-06      10.8619    16.292849    21.723799    3844.4888 
      32            0    -832.6272 -1.8098858e-07 -5.7702344e-07 1.7682704e-07 -1.4276933e-07   0.56449094 -1.4681438e-06 -2.1693786e-06      10.8619    16.292849    21.723799    3844.4888 
      33            0    -832.6272 -1.8092096e-07 -5.7697443e-07 1.7690695e-07 -1.426954e-07   0.56449589 1.5203924e-06 2.2473184e-06      10.8619    16.292849    21.723799    3844.4888 
      34            0    -832.6272 -1.8101504e-07 -5.7705024e-07 1.7679381e-07 -1.427887e-07   0.56449138 -1.1953562e-06 -1.7673161e-06      10.8619    16.292849    21.723799    3844.4888 
      35            0    -832.6272 -1.8097963e-07 -5.7702288e-07 1.7684697e-07 -1.4276298e-07   0.56449531 1.1635978e-06 1.7208329e-06      10.8619    16.292849    21.723799    3844.4888 
      36            0    -832.6272 -1.8096142e-07 -5.7699817e-07 1.7685339e-07 -1.4273947e-07   0.56449145 -1.1508781e-06 -1.7022706e-06      10.8619    16.292849    21.723799    3844.4888 
      37            0    -832.6272 -1.8098791e-07 -5.7702709e-07 1.768284e-07 -1.4276503e-07   0.56449509 1.0302353e-06 1.5240071e-06      10.8619    16.292849    21.723799    3844.4888 
      38            0    -832.6272 -1.810417e-07 -5.7707078e-07 1.7677208e-07 -1.428264e-07   0.56449182 -9.2802795e-07 -1.3729131e-06      10.8619    16.292849    21.723799    3844.4888 
      39            0    -832.6272 -1.8097949e-07 -5.7702254e-07 1.7683301e-07 -1.4274894e-07   0.56449528 1.1477461e-06 1.6980757e-06      10.8619    16.292849    21.723799    3844.4888 
      40            0    -832.6272 -1.8095925e-07 -5.7699799e-07 1.7686014e-07 -1.4273989e-07   0.56449181 -9.3179714e-07 -1.3786101e-06      10.8619    16.292849    21.723799    3844.4888 
      41            0    -832.6272 -1.809432e-07 -5.7698694e-07 1.7687841e-07 -1.4272108e-07   0.56449473 8.1507833e-07 1.2060474e-06      10.8619    16.292849    21.723799    3844.4888 
      42            0    -832.6272 -1.8097293e-07 -5.7701207e-07 1.7684547e-07 -1.4275219e-07   0.56449123 -1.2798919e-06 -1.8939468e-06      10.8619    16.292849    21.723799    3844.4888 
      43            0    -832.6272 -1.8097511e-07 -5.7701502e-07 1.7684656e-07 -1.4275686e-07   0.56449459 7.3465228e-07 1.0872121e-06      10.8619    16.292849    21.723799    3844.4888 
      44            0    -832.6272 -1.8100328e-07 -5.7702995e-07 1.7680675e-07 -1.4278664e-07   0.56449207 -7.7653067e-07 -1.1493243e-06      10.8619    16.292849    21.723799    3844.4888 
      45            0    -832.6272 -1.8095295e-07 -5.7699776e-07 1.7686647e-07 -1.4272756e-07   0.56449425 5.2899287e-07 7.8306787e-07      10.8619    16.292849    21.723799    3844.4888 
      46            0    -832.6272 -1.8100024e-07 -5.7703291e-07 1.7681145e-07 -1.4277925e-07   0.56449286 -3.0483753e-07 -4.5129305e-07      10.8619    16.292849    21.723799    3844.4888 
      47            0    -832.6272 -1.8099222e-07 -5.7702292e-07 1.7681745e-07 -1.4277119e-07   0.56449358 1.2945529e-07 1.9169222e-07      10.8619    16.292849    21.723799    3844.4888 
      48            0    -832.6272 -1.8099104e-07 -5.7703208e-07 1.768295e-07 -1.4277056e-07   0.56449325 -6.9592604e-08 -1.0325551e-07      10.8619    16.292849    21.723799    3844.4888 
      49            0    -832.6272 -1.8095971e-07 -5.7699867e-07 1.7686852e-07 -1.4274897e-07   0.56449341 2.5831254e-08 3.862264e-08      10.8619    16.292849    21.723799    3844.4888 
      50            0    -832.6272 -1.8102794e-07 -5.7706566e-07 1.7679269e-07 -1.4281086e-07   0.56449335 -1.1583107e-08 -1.7566254e-08      10.8619    16.292849    21.723799    3844.4888 
      51            0    -832.6272 -1.8098452e-07 -5.7701904e-07 1.7683198e-07 -1.427665e-07   0.56449338 7.6513679e-09 1.1927625e-08      10.8619    16.292849    21.723799    3844.4888 
      52            0    -832.6272 -1.8095135e-07 -5.7698761e-07 1.7687143e-07 -1.4273789e-07   0.56449336 -2.373148e-09 -3.8118048e-09      10.8619    16.292849    21.723799    3844.4888 
      53            0    -832.6272 -1.8098384e-07 -5.7702043e-07 1.768274e-07 -1.4275849e-07   0.56449337 1.0964164e-09 1.761948e-09      10.8619    16.292849    21.723799    3844.4888 
Loop time of 0.00837573 on 8 procs for 49 steps with 192 atoms

100.0% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199812     -832.627199983     -832.627199983
  Force two-norm initial, final = 0.00299662 7.32662e-11
  Force max component initial, final = 0.000336744 8.8604e-12
  Final line search alpha, max atom move = 1 8.8604e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0024013  | 0.0028347  | 0.0031454  |   0.4 | 33.84
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019678  | 0.0021575  | 0.0025269  |   0.4 | 25.76
Output  | 0.0013814  | 0.001445   | 0.0016575  |   0.2 | 17.25
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001939   |            |       | 23.14

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -5.77020431055861e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.76827398810071e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.4275849320417e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 0.564493370081815
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.09641639490828e-09
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.76194802843068e-09

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -5.77011934594111e-05
variable C2neg equal ${d2}
variable C2neg equal 1.76901193432748e-05
variable C3neg equal ${d3}
variable C3neg equal -1.42760242780125e-05
variable C4neg equal ${d4}
variable C4neg equal 1.96005121951948e-07
variable C5neg equal ${d5}
variable C5neg equal 1.01358567978344e-07
variable C6neg equal ${d6}
variable C6neg equal 56.4493369493122

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  restoring atom style atomic from restart
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (0 0 0)
  1 by 2 by 4 MPI processor grid
  pair style sw stores no restart info
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style	sw
pair_coeff * * Si.sw Si
Reading potential file Si.sw with DATE: 2007-06-11

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*16.2928493352156
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 1.62928493352156e-05 remap units box
  triclinic box = (-0.000949778 -0.00142467 -0.00189956) to (10.8609 16.2914 21.7219) with tilt (1.62928e-05 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair sw, perpetual
      attributes: full, newton on
      pair build: full/nsq
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 3.803 | 3.803 | 3.803 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       4            0    -832.6272 6.1275886e-05 6.4937534e-05 5.9308938e-05 5.9581187e-05 -0.063707094   0.19830475   0.36391636      10.8619    16.292849    21.723799    3844.4888 
       5            0    -832.6272 1.3324026e-06 1.2427433e-07 2.4300337e-06 1.4428998e-06  -0.69573019 -0.051969604 -0.095373597      10.8619    16.292849    21.723799    3844.4888 
       6            0    -832.6272 -3.9160018e-07 -1.0595598e-06  1.91767e-07 -3.070077e-07  -0.43150374  0.052664176   0.09664654      10.8619    16.292849    21.723799    3844.4888 
       7            0    -832.6272 -1.6697075e-07 -7.7571987e-07 4.3168822e-07 -1.5688062e-07  -0.69645431 -0.052256697 -0.095899479      10.8619    16.292849    21.723799    3844.4888 
       8            0    -832.6272 -2.5622412e-07 -5.4597962e-07 1.0463396e-07 -3.273267e-07  -0.47516553  0.035374085  0.064916798      10.8619    16.292849    21.723799    3844.4888 
       9            0    -832.6272 -1.8046867e-07 -6.8001135e-07 2.2222361e-07 -8.3618254e-08  -0.62558871 -0.024194035 -0.044399575      10.8619    16.292849    21.723799    3844.4888 
      10            0    -832.6272 -2.2460439e-07 -5.7911798e-07 1.2707908e-07 -2.2177428e-07  -0.52826961  0.014344806  0.026324717      10.8619    16.292849    21.723799    3844.4888 
      11            0    -832.6272 -1.7461776e-07 -6.1718754e-07 1.9532287e-07 -1.0198861e-07  -0.58954125 -0.0099192072 -0.018202951      10.8619    16.292849    21.723799    3844.4888 
      12            0    -832.6272 -1.9819241e-07 -5.7740636e-07 1.5150823e-07 -1.6867911e-07  -0.54967697 0.0058674785  0.010767463      10.8619    16.292849    21.723799    3844.4888 
      13            0    -832.6272 -1.8265304e-07 -5.9817492e-07 1.7838648e-07 -1.2817067e-07  -0.57259349 -0.0032078114 -0.0058865942      10.8619    16.292849    21.723799    3844.4888 
      14            0    -832.6272 -1.8953653e-07 -5.8101337e-07 1.6328467e-07 -1.5088087e-07  -0.55909025 0.0021397879 0.0039266135      10.8619    16.292849    21.723799    3844.4888 
      15            0    -832.6272 -1.8278866e-07 -5.8709359e-07 1.7485335e-07 -1.3612573e-07  -0.56724023 -0.0010878964 -0.0019962512      10.8619    16.292849    21.723799    3844.4888 
      16            0    -832.6272 -1.847759e-07 -5.8032582e-07 1.7038501e-07 -1.443869e-07    -0.562764 0.00068499589 0.0012568224      10.8619    16.292849    21.723799    3844.4888 
      17            0    -832.6272 -1.8167152e-07 -5.8172635e-07 1.7590276e-07 -1.3919098e-07  -0.56569703 -0.00047685219 -0.00087479699      10.8619    16.292849    21.723799    3844.4888 
      18            0    -832.6272 -1.8229351e-07 -5.777264e-07 1.7435757e-07 -1.4351169e-07  -0.56365681 0.00033153943 0.00060803048      10.8619    16.292849    21.723799    3844.4888 
      19            0    -832.6272 -1.8101952e-07 -5.7847811e-07 1.7682435e-07 -1.414048e-07  -0.56500089 -0.00020122676 -0.00036890979      10.8619    16.292849    21.723799    3844.4888 
      20            0    -832.6272 -1.8138511e-07 -5.7717706e-07 1.7619599e-07 -1.4317426e-07  -0.56423181 0.00010381071 0.00019015983      10.8619    16.292849    21.723799    3844.4888 
      21            0    -832.6272 -1.8098987e-07 -5.7738713e-07 1.7693454e-07 -1.4251703e-07  -0.56463057 -5.4573486e-05 -9.978987e-05      10.8619    16.292849    21.723799    3844.4888 
      22            0    -832.6272 -1.811106e-07 -5.7706931e-07 1.7670087e-07 -1.4296335e-07   -0.5644277 2.6229189e-05 4.7793875e-05      10.8619    16.292849    21.723799    3844.4888 
      23            0    -832.6272 -1.8102505e-07 -5.7710589e-07 1.7682671e-07 -1.4279596e-07  -0.56452199 -1.1596517e-05 -2.0885468e-05      10.8619    16.292849    21.723799    3844.4888 
      24            0    -832.6272 -1.8104783e-07 -5.7705088e-07 1.7677222e-07 -1.4286484e-07  -0.56447603 7.2876084e-06 1.2740912e-05      10.8619    16.292849    21.723799    3844.4888 
      25            0    -832.6272 -1.8101064e-07 -5.7705543e-07 1.7683363e-07 -1.4281012e-07  -0.56449906 -2.6025992e-06 -4.2528071e-06      10.8619    16.292849    21.723799    3844.4888 
      26            0    -832.6272 -1.809484e-07 -5.7698302e-07 1.7687566e-07 -1.4273783e-07  -0.56448996 2.0229206e-06 2.6966045e-06      10.8619    16.292849    21.723799    3844.4888 
      27            0    -832.6272 -1.8096579e-07 -5.7700815e-07 1.7685526e-07 -1.4274447e-07  -0.56449466 -1.2819041e-06 -1.195977e-06      10.8619    16.292849    21.723799    3844.4888 
      28            0    -832.6272 -1.8093948e-07 -5.7697946e-07 1.7688242e-07 -1.4272141e-07  -0.56449313 7.5208756e-07 3.9131469e-07      10.8619    16.292849    21.723799    3844.4888 
      29            0    -832.6272 -1.809976e-07 -5.7703408e-07 1.7682285e-07 -1.4278158e-07  -0.56449294 -6.8941944e-07 2.5556724e-08      10.8619    16.292849    21.723799    3844.4888 
      30            0    -832.6272 -1.8095155e-07 -5.7699011e-07 1.7686732e-07 -1.4273185e-07  -0.56449399 4.7685155e-07 -2.0976613e-07      10.8619    16.292849    21.723799    3844.4888 
      31            0    -832.6272 -1.8098948e-07 -5.7702329e-07 1.7682086e-07 -1.4276602e-07  -0.56449255 -4.7069549e-07 3.2851606e-07      10.8619    16.292849    21.723799    3844.4888 
      32            0    -832.6272 -1.8098635e-07 -5.7702357e-07 1.7683121e-07 -1.4276671e-07  -0.56449427 4.581585e-07 -3.8782158e-07      10.8619    16.292849    21.723799    3844.4888 
      33            0    -832.6272 -1.809781e-07 -5.7701281e-07 1.7684436e-07 -1.4276584e-07   -0.5644924 -4.6307685e-07 4.2146309e-07      10.8619    16.292849    21.723799    3844.4888 
      34            0    -832.6272 -1.8099525e-07 -5.770293e-07 1.7681709e-07 -1.4277354e-07  -0.56449414 3.5942603e-07 -3.3975943e-07      10.8619    16.292849    21.723799    3844.4888 
      35            0    -832.6272 -1.8096604e-07 -5.7700324e-07 1.7684869e-07 -1.4274357e-07  -0.56449261 -3.4656054e-07 3.3696637e-07      10.8619    16.292849    21.723799    3844.4888 
      36            0    -832.6272 -1.8097308e-07 -5.7701283e-07 1.7684399e-07 -1.427504e-07  -0.56449412 3.415033e-07 -3.3655955e-07      10.8619    16.292849    21.723799    3844.4888 
      37            0    -832.6272 -1.8097572e-07 -5.7700782e-07 1.7683385e-07 -1.4275318e-07  -0.56449269 -3.0576736e-07 3.0310579e-07      10.8619    16.292849    21.723799    3844.4888 
      38            0    -832.6272 -1.809494e-07 -5.7699148e-07 1.7686742e-07 -1.4272415e-07  -0.56449398 2.7615646e-07 -2.7469778e-07      10.8619    16.292849    21.723799    3844.4888 
      39            0    -832.6272 -1.809632e-07 -5.7700034e-07 1.7685344e-07 -1.4274269e-07   -0.5644926 -3.4483166e-07 3.4332452e-07      10.8619    16.292849    21.723799    3844.4888 
      40            0    -832.6272 -1.809528e-07 -5.7699721e-07 1.7686815e-07 -1.4272933e-07    -0.564494 2.8575783e-07 -2.846554e-07      10.8619    16.292849    21.723799    3844.4888 
      41            0    -832.6272 -1.8094191e-07 -5.7697943e-07 1.768726e-07 -1.4271889e-07  -0.56449279 -2.5985407e-07 2.5891882e-07      10.8619    16.292849    21.723799    3844.4888 
      42            0    -832.6272 -1.8100057e-07 -5.7703476e-07 1.7681101e-07 -1.4277796e-07  -0.56449437 4.5104431e-07 -4.4939154e-07      10.8619    16.292849    21.723799    3844.4888 
      43            0    -832.6272 -1.8096524e-07 -5.7700199e-07 1.7684554e-07 -1.4273928e-07  -0.56449269 -3.0232962e-07 3.0116209e-07      10.8619    16.292849    21.723799    3844.4888 
      44            0    -832.6272 -1.8100259e-07 -5.7704208e-07 1.7681561e-07 -1.427813e-07  -0.56449431 4.2438147e-07 -4.2275208e-07      10.8619    16.292849    21.723799    3844.4888 
      45            0    -832.6272 -1.8094997e-07 -5.7698681e-07 1.7686704e-07 -1.4273015e-07  -0.56449239 -4.3726865e-07 4.3548808e-07      10.8619    16.292849    21.723799    3844.4888 
      46            0    -832.6272 -1.8099502e-07 -5.7703069e-07 1.7682873e-07 -1.4278311e-07  -0.56449424 3.9346961e-07 -3.9178376e-07      10.8619    16.292849    21.723799    3844.4888 
      47            0    -832.6272 -1.8097203e-07 -5.770103e-07 1.7684408e-07 -1.4274986e-07  -0.56449278 -2.6269838e-07 2.6145847e-07      10.8619    16.292849    21.723799    3844.4888 
      48            0    -832.6272 -1.8095558e-07 -5.769963e-07 1.7685578e-07 -1.4272623e-07  -0.56449374 1.6952079e-07 -1.6849932e-07      10.8619    16.292849    21.723799    3844.4888 
      49            0    -832.6272 -1.8095472e-07 -5.7699054e-07 1.7686031e-07 -1.4273392e-07  -0.56449321 -6.9993503e-08 6.9388461e-08      10.8619    16.292849    21.723799    3844.4888 
      50            0    -832.6272 -1.8095881e-07 -5.7699817e-07 1.7685834e-07 -1.427366e-07  -0.56449344 3.3408947e-08 -3.2964553e-08      10.8619    16.292849    21.723799    3844.4888 
      51            0    -832.6272 -1.8097447e-07 -5.7700965e-07 1.7683905e-07 -1.4275282e-07  -0.56449332 -2.3159589e-08 2.2671317e-08      10.8619    16.292849    21.723799    3844.4888 
      52            0    -832.6272 -1.8101329e-07 -5.7705074e-07 1.7680395e-07 -1.4279307e-07  -0.56449338 7.5351292e-09 -7.2106891e-09      10.8619    16.292849    21.723799    3844.4888 
      53            0    -832.6272 -1.8101746e-07 -5.770482e-07 1.7679058e-07 -1.4279475e-07  -0.56449336 -3.591171e-09 3.2099436e-09      10.8619    16.292849    21.723799    3844.4888 
Loop time of 0.00829697 on 8 procs for 49 steps with 192 atoms

100.0% CPU use with 8 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.627199817     -832.627199983     -832.627199983
  Force two-norm initial, final = 0.00293549 7.32845e-11
  Force max component initial, final = 0.000305538 8.74941e-12
  Final line search alpha, max atom move = 1 8.74941e-12
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0025112  | 0.0028621  | 0.0030414  |   0.3 | 34.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019353  | 0.0020714  | 0.0023257  |   0.3 | 24.97
Output  | 0.0013755  | 0.0014557  | 0.0016517  |   0.2 | 17.54
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001908   |            |       | 22.99

Nlocal:    24 ave 26 max 21 min
Histogram: 1 0 0 0 1 0 3 0 2 1
Nghost:    249 ave 252 max 247 min
Histogram: 1 0 2 0 3 0 1 0 0 1
Neighs:    0 ave 0 max 0 min
Histogram: 8 0 0 0 0 0 0 0 0 0
FullNghs:  672 ave 728 max 588 min
Histogram: 1 0 0 0 1 0 3 0 2 1

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.627199983438
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.81017455865026e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -5.7704820249799e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.76790582614194e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.42794747711282e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -0.564493360878672
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -3.59117098277221e-09
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.20994364169695e-09

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 5.7703970603624e-05
variable C2pos equal ${d2}
variable C2pos equal -1.76864377236871e-05
variable C3pos equal ${d3}
variable C3pos equal 1.42796497287237e-05
variable C4pos equal ${d4}
variable C4pos equal -3.40804683278575e-07
variable C5pos equal ${d5}
variable C5pos equal 3.67400169789705e-07
variable C6pos equal ${d6}
variable C6pos equal 56.4493361467365

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(-5.77011934594111e-05+${C1pos})
variable C16 equal 0.5*(-5.77011934594111e-05+5.7703970603624e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(1.76901193432748e-05+${C2pos})
variable C26 equal 0.5*(1.76901193432748e-05+-1.76864377236871e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(-1.42760242780125e-05+${C3pos})
variable C36 equal 0.5*(-1.42760242780125e-05+1.42796497287237e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(1.96005121951948e-07+${C4pos})
variable C46 equal 0.5*(1.96005121951948e-07+-3.40804683278575e-07)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(1.01358567978344e-07+${C5pos})
variable C56 equal 0.5*(1.01358567978344e-07+3.67400169789705e-07)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(56.4493369493122+${C6pos})
variable C66 equal 0.5*(56.4493369493122+56.4493361467365)

# Delete dir to make sure it is not reused

variable dir delete

# Output final values

variable C11all equal ${C11}
variable C11all equal 151.42447926324
variable C22all equal ${C22}
variable C22all equal 151.424479240821
variable C33all equal ${C33}
variable C33all equal 151.424479261071

variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(76.4220842826016+${C21})
variable C12all equal 0.5*(76.4220842826016+76.4220842955066)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(76.4220842938092+${C31})
variable C13all equal 0.5*(76.4220842938092+76.4220842959213)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(76.4220842946101+${C32})
variable C23all equal 0.5*(76.4220842946101+76.422084282565)

variable C44all equal ${C44}
variable C44all equal 56.4493367294521
variable C55all equal ${C55}
variable C55all equal 56.4493367737331
variable C66all equal ${C66}
variable C66all equal 56.4493365480243

variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(-4.41921890100287e-10+${C41})
variable C14all equal 0.5*(-4.41921890100287e-10+-7.58956803776068e-08)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(9.03171965550674e-10+${C51})
variable C15all equal 0.5*(9.03171965550674e-10+-3.3477927969715e-09)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(1.38857210645271e-09+${C61})
variable C16all equal 0.5*(1.38857210645271e-09+1.20905475531207e-07)

variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(-6.01149689008235e-11+${C42})
variable C24all equal 0.5*(-6.01149689008235e-11+3.00843312895095e-08)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(1.17151372915009e-09+${C52})
variable C25all equal 0.5*(1.17151372915009e-09+-6.84081446103071e-08)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(1.84080979385012e-09+${C62})
variable C26all equal 0.5*(1.84080979385012e-09+2.99378751296665e-08)

variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(-5.64012055899034e-10+${C43})
variable C34all equal 0.5*(-5.64012055899034e-10+1.22252658953269e-07)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(4.80313441949908e-10+${C53})
variable C35all equal 0.5*(4.80313441949908e-10+5.08420476459811e-08)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(1.81272535560055e-09+${C63})
variable C36all equal 0.5*(1.81272535560055e-09+-5.6186101297944e-08)

variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(4.49477226570978e-08+${C54})
variable C45all equal 0.5*(4.49477226570978e-08+9.38733770854757e-08)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(-7.23997806633135e-08+${C64})
variable C46all equal 0.5*(-7.23997806633135e-08+-6.1419425338296e-08)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(2.34379368884025e-07+${C65})
variable C56all equal 0.5*(2.34379368884025e-07+-1.43077728822356e-07)

# For Stillinger-Weber silicon, the analytical results
# are known to be (E. R. Cowley, 1988):
#               C11 = 151.4 GPa
#               C12 = 76.4 GPa
#               C44 = 56.4 GPa

print "Elastic Constant C11all = ${C11all} ${cunits}"
Elastic Constant C11all = 151.42447926324 GPa
print "Elastic Constant C22all = ${C22all} ${cunits}"
Elastic Constant C22all = 151.424479240821 GPa
print "Elastic Constant C33all = ${C33all} ${cunits}"
Elastic Constant C33all = 151.424479261071 GPa

print "Elastic Constant C12all = ${C12all} ${cunits}"
Elastic Constant C12all = 76.4220842890541 GPa
print "Elastic Constant C13all = ${C13all} ${cunits}"
Elastic Constant C13all = 76.4220842948652 GPa
print "Elastic Constant C23all = ${C23all} ${cunits}"
Elastic Constant C23all = 76.4220842885875 GPa

print "Elastic Constant C44all = ${C44all} ${cunits}"
Elastic Constant C44all = 56.4493367294521 GPa
print "Elastic Constant C55all = ${C55all} ${cunits}"
Elastic Constant C55all = 56.4493367737331 GPa
print "Elastic Constant C66all = ${C66all} ${cunits}"
Elastic Constant C66all = 56.4493365480243 GPa

print "Elastic Constant C14all = ${C14all} ${cunits}"
Elastic Constant C14all = -3.81688011338535e-08 GPa
print "Elastic Constant C15all = ${C15all} ${cunits}"
Elastic Constant C15all = -1.22231041571041e-09 GPa
print "Elastic Constant C16all = ${C16all} ${cunits}"
Elastic Constant C16all = 6.11470238188299e-08 GPa

print "Elastic Constant C24all = ${C24all} ${cunits}"
Elastic Constant C24all = 1.50121081603043e-08 GPa
print "Elastic Constant C25all = ${C25all} ${cunits}"
Elastic Constant C25all = -3.36183154405785e-08 GPa
print "Elastic Constant C26all = ${C26all} ${cunits}"
Elastic Constant C26all = 1.58893424617583e-08 GPa

print "Elastic Constant C34all = ${C34all} ${cunits}"
Elastic Constant C34all = 6.0844323448685e-08 GPa
print "Elastic Constant C35all = ${C35all} ${cunits}"
Elastic Constant C35all = 2.56611805439655e-08 GPa
print "Elastic Constant C36all = ${C36all} ${cunits}"
Elastic Constant C36all = -2.71866879711717e-08 GPa

print "Elastic Constant C45all = ${C45all} ${cunits}"
Elastic Constant C45all = 6.94105498712867e-08 GPa
print "Elastic Constant C46all = ${C46all} ${cunits}"
Elastic Constant C46all = -6.69096030008047e-08 GPa
print "Elastic Constant C56all = ${C56all} ${cunits}"
Elastic Constant C56all = 4.56508200308345e-08 GPa

Total wall time: 0:00:00
